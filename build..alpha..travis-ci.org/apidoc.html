<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/yarnpkg/yarn#readme"

    >yarnpkg (v0.15.1)</a>
</h1>
<h4><p align="center">   <a href="https://yarnpkg.com/">     <img alt="Yarn" src="https://github.com/yarnpkg/assets/blob/master/yarn-kitten-full.png?raw=true" width="546">   </a> </p></h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg">module yarnpkg</a><ol>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>_execute_lifecycle_script</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>_useless</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>access</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>add</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>base_fetcher</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>base_registry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>base_reporter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>base_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>bin</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>bitbucket_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>blocking_queue</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>bower_registry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>bower_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>buffer_reporter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>cache</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>check</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>child</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>clean</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>config</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>console_reporter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>constants</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>copy_fetcher</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>crypto</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>errors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>event_reporter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>execute_lifecycle_script</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>exotic_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>fieri</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>file_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>filter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>fix</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>fs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>generate_lock_entry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>gist_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>github_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>gitlab_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>global</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>index</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>infer_license</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>info</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>init</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>install</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>json_reporter</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>licenses</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>link</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>login</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>logout</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>ls</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>map</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>misc</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>network</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>npm_registry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>npm_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>outdated</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>owner</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>pack</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_compatibility</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_constraint_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_fetcher</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_hoister</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_install_scripts</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_linker</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_reference</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_request</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>package_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>parse</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>parse_package_name</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>progress_bar</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>promise</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>publish</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>registry_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>remove</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>request_manager</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>run</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>self_update</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>spinner_progress</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>stream</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>stringify</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>tag</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>tarball_fetcher</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>tarball_resolver</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>team</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>unlink</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>upgrade</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>util</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>validate</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>version</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>why</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>wrapper</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>yarn_registry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.</span>yarn_resolver</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg._execute_lifecycle_script">module yarnpkg._execute_lifecycle_script</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg._execute_lifecycle_script.default">
            function <span class="apidocSignatureSpan">yarnpkg._execute_lifecycle_script.</span>default
            <span class="apidocSignatureSpan">(_x, _x2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg._execute_lifecycle_script.execCommand">
            function <span class="apidocSignatureSpan">yarnpkg._execute_lifecycle_script.</span>execCommand
            <span class="apidocSignatureSpan">(_x7, _x8, _x9, _x10)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg._execute_lifecycle_script.execFromManifest">
            function <span class="apidocSignatureSpan">yarnpkg._execute_lifecycle_script.</span>execFromManifest
            <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg._useless">module yarnpkg._useless</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg._useless.default">
            function <span class="apidocSignatureSpan">yarnpkg._useless.</span>default
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.access">module yarnpkg.access</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.access.run">
            function <span class="apidocSignatureSpan">yarnpkg.access.</span>run
            <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.access.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.access.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.add">module yarnpkg.add</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.add.Add">
            function <span class="apidocSignatureSpan">yarnpkg.add.</span>Add
            <span class="apidocSignatureSpan">(_install || _load_install()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.add.run">
            function <span class="apidocSignatureSpan">yarnpkg.add.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.add.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.add.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.base_fetcher">module yarnpkg.base_fetcher</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.base_fetcher.default">
            function <span class="apidocSignatureSpan">yarnpkg.base_fetcher.</span>default
            <span class="apidocSignatureSpan">(dest, remote, config)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.base_registry">module yarnpkg.base_registry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.base_registry.default">
            function <span class="apidocSignatureSpan">yarnpkg.base_registry.</span>default
            <span class="apidocSignatureSpan">(cwd, registries, requestManager)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.base_reporter">module yarnpkg.base_reporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.base_reporter.default">
            function <span class="apidocSignatureSpan">yarnpkg.base_reporter.</span>default
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.base_reporter.stringifyLangArgs">
            function <span class="apidocSignatureSpan">yarnpkg.base_reporter.</span>stringifyLangArgs
            <span class="apidocSignatureSpan">(args)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.base_resolver">module yarnpkg.base_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.base_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.base_resolver.</span>default
            <span class="apidocSignatureSpan">(request, fragment)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.bin">module yarnpkg.bin</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.bin.hasWrapper">
            function <span class="apidocSignatureSpan">yarnpkg.bin.</span>hasWrapper
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.bin.run">
            function <span class="apidocSignatureSpan">yarnpkg.bin.</span>run
            <span class="apidocSignatureSpan">(config, reporter, flags, args)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.bitbucket_resolver">module yarnpkg.bitbucket_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.bitbucket_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.bitbucket_resolver.</span>default
            <span class="apidocSignatureSpan">(_hostedGitResolver || _load_hostedGitResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.blocking_queue">module yarnpkg.blocking_queue</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.blocking_queue.default">
            function <span class="apidocSignatureSpan">yarnpkg.blocking_queue.</span>default
            <span class="apidocSignatureSpan">(alias)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.bower_registry">module yarnpkg.bower_registry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.bower_registry.default">
            function <span class="apidocSignatureSpan">yarnpkg.bower_registry.</span>default
            <span class="apidocSignatureSpan">(_baseRegistry || _load_baseRegistry()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.bower_resolver">module yarnpkg.bower_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.bower_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.bower_resolver.</span>default
            <span class="apidocSignatureSpan">(_registryResolver || _load_registryResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.buffer_reporter">module yarnpkg.buffer_reporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.buffer_reporter.default">
            function <span class="apidocSignatureSpan">yarnpkg.buffer_reporter.</span>default
            <span class="apidocSignatureSpan">(_jsonReporter || _load_jsonReporter()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.cache">module yarnpkg.cache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.cache.run">
            function <span class="apidocSignatureSpan">yarnpkg.cache.</span>run
            <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.cache.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.cache.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.check">module yarnpkg.check</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.check.</span>noArguments</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.check.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.check.run">
            function <span class="apidocSignatureSpan">yarnpkg.check.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.check.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.check.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.child">module yarnpkg.child</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.child.exec">
            function <span class="apidocSignatureSpan">yarnpkg.child.</span>exec
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.child.spawn">
            function <span class="apidocSignatureSpan">yarnpkg.child.</span>spawn
            <span class="apidocSignatureSpan">(program, args)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.child.</span>queue</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.clean">module yarnpkg.clean</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.clean.</span>noArguments</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.clean.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.clean.clean">
            function <span class="apidocSignatureSpan">yarnpkg.</span>clean
            <span class="apidocSignatureSpan">(_x, _x2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.clean.run">
            function <span class="apidocSignatureSpan">yarnpkg.clean.</span>run
            <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.config">module yarnpkg.config</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.config.default">
            function <span class="apidocSignatureSpan">yarnpkg.config.</span>default
            <span class="apidocSignatureSpan">(reporter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.console_reporter">module yarnpkg.console_reporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.console_reporter.default">
            function <span class="apidocSignatureSpan">yarnpkg.console_reporter.</span>default
            <span class="apidocSignatureSpan">(_baseReporter || _load_baseReporter()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.constants">module yarnpkg.constants</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.constants.getModuleCacheDirectory">
            function <span class="apidocSignatureSpan">yarnpkg.constants.</span>getModuleCacheDirectory
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.constants.getPathKey">
            function <span class="apidocSignatureSpan">yarnpkg.constants.</span>getPathKey
            <span class="apidocSignatureSpan">(platform, env)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">yarnpkg.constants.</span>CHILD_CONCURRENCY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">yarnpkg.constants.</span>LOCKFILE_VERSION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">yarnpkg.constants.</span>NETWORK_CONCURRENCY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">yarnpkg.constants.</span>SINGLE_INSTANCE_PORT</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.constants.</span>DEPENDENCY_TYPES</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.constants.</span>REQUIRED_PACKAGE_KEYS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>CLEAN_FILENAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>ENV_PATH_KEY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>GITHUB_REPO</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>GITHUB_USER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>GLOBAL_MODULE_DIRECTORY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>INTEGRITY_FILENAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>LINK_REGISTRY_DIRECTORY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>LOCKFILE_FILENAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>METADATA_FILENAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>MODULE_CACHE_DIRECTORY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>SELF_UPDATE_DOWNLOAD_FOLDER</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>SINGLE_INSTANCE_FILENAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>TARBALL_FILENAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.constants.</span>YARN_REGISTRY</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.copy_fetcher">module yarnpkg.copy_fetcher</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.copy_fetcher.default">
            function <span class="apidocSignatureSpan">yarnpkg.copy_fetcher.</span>default
            <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.crypto">module yarnpkg.crypto</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.crypto.HashStream">
            function <span class="apidocSignatureSpan">yarnpkg.crypto.</span>HashStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.crypto.hash">
            function <span class="apidocSignatureSpan">yarnpkg.crypto.</span>hash
            <span class="apidocSignatureSpan">(content)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.errors">module yarnpkg.errors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.errors.MessageError">
            function <span class="apidocSignatureSpan">yarnpkg.errors.</span>MessageError
            <span class="apidocSignatureSpan">(msg, code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.errors.SecurityError">
            function <span class="apidocSignatureSpan">yarnpkg.errors.</span>SecurityError
            <span class="apidocSignatureSpan">{{signature}}</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.errors.SpawnError">
            function <span class="apidocSignatureSpan">yarnpkg.errors.</span>SpawnError
            <span class="apidocSignatureSpan">{{signature}}</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.event_reporter">module yarnpkg.event_reporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.event_reporter.default">
            function <span class="apidocSignatureSpan">yarnpkg.event_reporter.</span>default
            <span class="apidocSignatureSpan">(_jsonReporter || _load_jsonReporter()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.execute_lifecycle_script">module yarnpkg.execute_lifecycle_script</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.execute_lifecycle_script.default">
            function <span class="apidocSignatureSpan">yarnpkg.execute_lifecycle_script.</span>default
            <span class="apidocSignatureSpan">(_x4, _x5, _x6, _x7, _x8)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.exotic_resolver">module yarnpkg.exotic_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.exotic_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.exotic_resolver.</span>default
            <span class="apidocSignatureSpan">(_baseResolver || _load_baseResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.fieri">module yarnpkg.fieri</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fieri.hasWrapper">
            function <span class="apidocSignatureSpan">yarnpkg.fieri.</span>hasWrapper
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fieri.run">
            function <span class="apidocSignatureSpan">yarnpkg.fieri.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.file_resolver">module yarnpkg.file_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.file_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.file_resolver.</span>default
            <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.filter">module yarnpkg.filter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.filter.ignoreLinesToRegex">
            function <span class="apidocSignatureSpan">yarnpkg.filter.</span>ignoreLinesToRegex
            <span class="apidocSignatureSpan">(lines)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.filter.matchesFilter">
            function <span class="apidocSignatureSpan">yarnpkg.filter.</span>matchesFilter
            <span class="apidocSignatureSpan">(filter, basename, loc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.filter.sortFilter">
            function <span class="apidocSignatureSpan">yarnpkg.filter.</span>sortFilter
            <span class="apidocSignatureSpan">(files, filters)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.fix">module yarnpkg.fix</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fix.default">
            function <span class="apidocSignatureSpan">yarnpkg.fix.</span>default
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.fs">module yarnpkg.fs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.access">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>access
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.chmod">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>chmod
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.copy">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>copy
            <span class="apidocSignatureSpan">(src, dest)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.copyBulk">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>copyBulk
            <span class="apidocSignatureSpan">(_x5, _x6)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.exists">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>exists
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.find">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>find
            <span class="apidocSignatureSpan">(_x9, _x10)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.lstat">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>lstat
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.mkdirp">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>mkdirp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.normalizeOS">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>normalizeOS
            <span class="apidocSignatureSpan">(body)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.readFile">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFile
            <span class="apidocSignatureSpan">(loc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.readFileAny">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFileAny
            <span class="apidocSignatureSpan">(_x7)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.readFileBuffer">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFileBuffer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.readFileRaw">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFileRaw
            <span class="apidocSignatureSpan">(loc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.readJson">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readJson
            <span class="apidocSignatureSpan">(_x8)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.readdir">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readdir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.readlink">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readlink
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.realpath">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>realpath
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.rename">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>rename
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.stat">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>stat
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.symlink">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>symlink
            <span class="apidocSignatureSpan">(_x11, _x12)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.unlink">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>unlink
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.walk">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>walk
            <span class="apidocSignatureSpan">(_x14, _x15)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.fs.writeFile">
            function <span class="apidocSignatureSpan">yarnpkg.fs.</span>writeFile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.fs.</span>lockQueue</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.generate_lock_entry">module yarnpkg.generate_lock_entry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.generate_lock_entry.hasWrapper">
            function <span class="apidocSignatureSpan">yarnpkg.generate_lock_entry.</span>hasWrapper
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.generate_lock_entry.run">
            function <span class="apidocSignatureSpan">yarnpkg.generate_lock_entry.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.generate_lock_entry.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.generate_lock_entry.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.generate_lock_entry.</span>examples</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.gist_resolver">module yarnpkg.gist_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.gist_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.gist_resolver.</span>default
            <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.github_resolver">module yarnpkg.github_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.github_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.github_resolver.</span>default
            <span class="apidocSignatureSpan">(_hostedGitResolver || _load_hostedGitResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.gitlab_resolver">module yarnpkg.gitlab_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.gitlab_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.gitlab_resolver.</span>default
            <span class="apidocSignatureSpan">(_hostedGitResolver || _load_hostedGitResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.global">module yarnpkg.global</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.global.hasWrapper">
            function <span class="apidocSignatureSpan">yarnpkg.global.</span>hasWrapper
            <span class="apidocSignatureSpan">(flags, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.global.run">
            function <span class="apidocSignatureSpan">yarnpkg.global.</span>run
            <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.global.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.global.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.index">module yarnpkg.index</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.index.base">
            function <span class="apidocSignatureSpan">yarnpkg.index.</span>base
            <span class="apidocSignatureSpan">(dest, remote, config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.index.copy">
            function <span class="apidocSignatureSpan">yarnpkg.index.</span>copy
            <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.index.git">
            function <span class="apidocSignatureSpan">yarnpkg.index.</span>git
            <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.index.tarball">
            function <span class="apidocSignatureSpan">yarnpkg.index.</span>tarball
            <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.infer_license">module yarnpkg.infer_license</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.infer_license.default">
            function <span class="apidocSignatureSpan">yarnpkg.infer_license.</span>default
            <span class="apidocSignatureSpan">(license)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.info">module yarnpkg.info</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.info.run">
            function <span class="apidocSignatureSpan">yarnpkg.info.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.init">module yarnpkg.init</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.init.</span>noArguments</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.init.run">
            function <span class="apidocSignatureSpan">yarnpkg.init.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.install">module yarnpkg.install</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.install.Install">
            function <span class="apidocSignatureSpan">yarnpkg.install.</span>Install
            <span class="apidocSignatureSpan">(flags, config, reporter, lockfile)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.install._setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.install.</span>_setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.install.run">
            function <span class="apidocSignatureSpan">yarnpkg.install.</span>run
            <span class="apidocSignatureSpan">(_x14, _x15, _x16, _x17)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.install.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.install.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.json_reporter">module yarnpkg.json_reporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.json_reporter.default">
            function <span class="apidocSignatureSpan">yarnpkg.json_reporter.</span>default
            <span class="apidocSignatureSpan">(_baseReporter || _load_baseReporter()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.licenses">module yarnpkg.licenses</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.licenses.hasWrapper">
            function <span class="apidocSignatureSpan">yarnpkg.licenses.</span>hasWrapper
            <span class="apidocSignatureSpan">(flags, args)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.licenses.run">
            function <span class="apidocSignatureSpan">yarnpkg.licenses.</span>run
            <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.licenses.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.licenses.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.link">module yarnpkg.link</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.link.getRegistryFolder">
            function <span class="apidocSignatureSpan">yarnpkg.link.</span>getRegistryFolder
            <span class="apidocSignatureSpan">(_x, _x2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.link.run">
            function <span class="apidocSignatureSpan">yarnpkg.link.</span>run
            <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.login">module yarnpkg.login</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.login.getToken">
            function <span class="apidocSignatureSpan">yarnpkg.login.</span>getToken
            <span class="apidocSignatureSpan">(_x3, _x4)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.login.run">
            function <span class="apidocSignatureSpan">yarnpkg.login.</span>run
            <span class="apidocSignatureSpan">(_x5, _x6, _x7, _x8)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.logout">module yarnpkg.logout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.logout.run">
            function <span class="apidocSignatureSpan">yarnpkg.logout.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.ls">module yarnpkg.ls</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.ls.</span>noArguments</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.ls.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.ls.buildTree">
            function <span class="apidocSignatureSpan">yarnpkg.ls.</span>buildTree
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.ls.run">
            function <span class="apidocSignatureSpan">yarnpkg.ls.</span>run
            <span class="apidocSignatureSpan">(_x6, _x7, _x8, _x9)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.map">module yarnpkg.map</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.map.default">
            function <span class="apidocSignatureSpan">yarnpkg.map.</span>default
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.misc">module yarnpkg.misc</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.misc.entries">
            function <span class="apidocSignatureSpan">yarnpkg.misc.</span>entries
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.misc.hash">
            function <span class="apidocSignatureSpan">yarnpkg.misc.</span>hash
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.misc.removePrefix">
            function <span class="apidocSignatureSpan">yarnpkg.misc.</span>removePrefix
            <span class="apidocSignatureSpan">(pattern, prefix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.misc.removeSuffix">
            function <span class="apidocSignatureSpan">yarnpkg.misc.</span>removeSuffix
            <span class="apidocSignatureSpan">(pattern, suffix)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.misc.sortAlpha">
            function <span class="apidocSignatureSpan">yarnpkg.misc.</span>sortAlpha
            <span class="apidocSignatureSpan">(a, b)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.misc.stringify">
            function <span class="apidocSignatureSpan">yarnpkg.misc.</span>stringify
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.network">module yarnpkg.network</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.network.isOffline">
            function <span class="apidocSignatureSpan">yarnpkg.network.</span>isOffline
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.npm_registry">module yarnpkg.npm_registry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.npm_registry.default">
            function <span class="apidocSignatureSpan">yarnpkg.npm_registry.</span>default
            <span class="apidocSignatureSpan">(_baseRegistry || _load_baseRegistry()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.npm_resolver">module yarnpkg.npm_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.npm_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.npm_resolver.</span>default
            <span class="apidocSignatureSpan">(_registryResolver || _load_registryResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.outdated">module yarnpkg.outdated</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.outdated.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.outdated.run">
            function <span class="apidocSignatureSpan">yarnpkg.outdated.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.outdated.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.outdated.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.owner">module yarnpkg.owner</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.owner.mutate">
            function <span class="apidocSignatureSpan">yarnpkg.owner.</span>mutate
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.owner.run">
            function <span class="apidocSignatureSpan">yarnpkg.owner.</span>run
            <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.owner.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.owner.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.pack">module yarnpkg.pack</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.pack.pack">
            function <span class="apidocSignatureSpan">yarnpkg.</span>pack
            <span class="apidocSignatureSpan">(_x, _x2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.pack.run">
            function <span class="apidocSignatureSpan">yarnpkg.pack.</span>run
            <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.pack.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.pack.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_compatibility">module yarnpkg.package_compatibility</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_compatibility.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_compatibility.</span>default
            <span class="apidocSignatureSpan">(config, resolver)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_compatibility.testEngine">
            function <span class="apidocSignatureSpan">yarnpkg.package_compatibility.</span>testEngine
            <span class="apidocSignatureSpan">(name, range, versions, looseSemver)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_constraint_resolver">module yarnpkg.package_constraint_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_constraint_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_constraint_resolver.</span>default
            <span class="apidocSignatureSpan">(config, reporter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_fetcher">module yarnpkg.package_fetcher</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_fetcher.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_fetcher.</span>default
            <span class="apidocSignatureSpan">(config, resolver)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_hoister">module yarnpkg.package_hoister</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_hoister.HoistManifest">
            function <span class="apidocSignatureSpan">yarnpkg.package_hoister.</span>HoistManifest
            <span class="apidocSignatureSpan">(key, parts, pkg, loc)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_hoister.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_hoister.</span>default
            <span class="apidocSignatureSpan">(config, resolver, ignoreOptional)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_install_scripts">module yarnpkg.package_install_scripts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_install_scripts.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_install_scripts.</span>default
            <span class="apidocSignatureSpan">(config, resolver, force)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_linker">module yarnpkg.package_linker</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_linker.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_linker.</span>default
            <span class="apidocSignatureSpan">(config, resolver, ignoreOptional)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_linker.linkBin">
            function <span class="apidocSignatureSpan">yarnpkg.package_linker.</span>linkBin
            <span class="apidocSignatureSpan">(_x, _x2)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_reference">module yarnpkg.package_reference</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_reference.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_reference.</span>default
            <span class="apidocSignatureSpan">(request, info, remote)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.package_reference.</span>ENVIRONMENT_IGNORE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.package_reference.</span>REMOVED_ANCESTOR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">yarnpkg.package_reference.</span>USED</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_request">module yarnpkg.package_request</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_request.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_request.</span>default
            <span class="apidocSignatureSpan">(req, resolver)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.package_resolver">module yarnpkg.package_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.package_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.package_resolver.</span>default
            <span class="apidocSignatureSpan">(config, lockfile)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.parse">module yarnpkg.parse</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.parse.Parser">
            function <span class="apidocSignatureSpan">yarnpkg.parse.</span>Parser
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.parse.default">
            function <span class="apidocSignatureSpan">yarnpkg.parse.</span>default
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.parse.tokenise">
            function <span class="apidocSignatureSpan">yarnpkg.parse.</span>tokenise
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.parse_package_name">module yarnpkg.parse_package_name</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.parse_package_name.default">
            function <span class="apidocSignatureSpan">yarnpkg.parse_package_name.</span>default
            <span class="apidocSignatureSpan">(input)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.progress_bar">module yarnpkg.progress_bar</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.progress_bar.default">
            function <span class="apidocSignatureSpan">yarnpkg.progress_bar.</span>default
            <span class="apidocSignatureSpan">(total)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.promise">module yarnpkg.promise</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.promise.promisify">
            function <span class="apidocSignatureSpan">yarnpkg.promise.</span>promisify
            <span class="apidocSignatureSpan">(fn, firstData)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.promise.promisifyObject">
            function <span class="apidocSignatureSpan">yarnpkg.promise.</span>promisifyObject
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.promise.queue">
            function <span class="apidocSignatureSpan">yarnpkg.promise.</span>queue
            <span class="apidocSignatureSpan">(arr, promiseProducer)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.promise.wait">
            function <span class="apidocSignatureSpan">yarnpkg.promise.</span>wait
            <span class="apidocSignatureSpan">(delay)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.publish">module yarnpkg.publish</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.publish.run">
            function <span class="apidocSignatureSpan">yarnpkg.publish.</span>run
            <span class="apidocSignatureSpan">(_x5, _x6, _x7, _x8)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.publish.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.publish.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.registry_resolver">module yarnpkg.registry_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.registry_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.registry_resolver.</span>default
            <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.remove">module yarnpkg.remove</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.remove.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.remove.run">
            function <span class="apidocSignatureSpan">yarnpkg.remove.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.request_manager">module yarnpkg.request_manager</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.request_manager.default">
            function <span class="apidocSignatureSpan">yarnpkg.request_manager.</span>default
            <span class="apidocSignatureSpan">(reporter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.run">module yarnpkg.run</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.run.run">
            function <span class="apidocSignatureSpan">yarnpkg.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.self_update">module yarnpkg.self_update</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.self_update.</span>noArguments</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.self_update.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.self_update.run">
            function <span class="apidocSignatureSpan">yarnpkg.self_update.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.self_update.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.self_update.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.spinner_progress">module yarnpkg.spinner_progress</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.spinner_progress.default">
            function <span class="apidocSignatureSpan">yarnpkg.spinner_progress.</span>default
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.stream">module yarnpkg.stream</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.stream.ConcatStream">
            function <span class="apidocSignatureSpan">yarnpkg.stream.</span>ConcatStream
            <span class="apidocSignatureSpan">(done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.stream.UnpackStream">
            function <span class="apidocSignatureSpan">yarnpkg.stream.</span>UnpackStream
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.stringify">module yarnpkg.stringify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.stringify.default">
            function <span class="apidocSignatureSpan">yarnpkg.stringify.</span>default
            <span class="apidocSignatureSpan">(obj, noHeader)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.tag">module yarnpkg.tag</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.tag.getName">
            function <span class="apidocSignatureSpan">yarnpkg.tag.</span>getName
            <span class="apidocSignatureSpan">(_x, _x2)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.tag.run">
            function <span class="apidocSignatureSpan">yarnpkg.tag.</span>run
            <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.tag.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.tag.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.tag.</span>examples</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.tarball_fetcher">module yarnpkg.tarball_fetcher</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.tarball_fetcher.LocalTarballFetcher">
            function <span class="apidocSignatureSpan">yarnpkg.tarball_fetcher.</span>LocalTarballFetcher
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.tarball_fetcher.default">
            function <span class="apidocSignatureSpan">yarnpkg.tarball_fetcher.</span>default
            <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.tarball_resolver">module yarnpkg.tarball_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.tarball_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.tarball_resolver.</span>default
            <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.team">module yarnpkg.team</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.team.run">
            function <span class="apidocSignatureSpan">yarnpkg.team.</span>run
            <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.team.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.team.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.unlink">module yarnpkg.unlink</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.unlink.run">
            function <span class="apidocSignatureSpan">yarnpkg.unlink.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.upgrade">module yarnpkg.upgrade</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.upgrade.</span>noArguments</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.upgrade.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.upgrade.run">
            function <span class="apidocSignatureSpan">yarnpkg.upgrade.</span>run
            <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.upgrade.setFlags">
            function <span class="apidocSignatureSpan">yarnpkg.upgrade.</span>setFlags
            <span class="apidocSignatureSpan">(commander)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.util">module yarnpkg.util</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.util.clearLine">
            function <span class="apidocSignatureSpan">yarnpkg.util.</span>clearLine
            <span class="apidocSignatureSpan">(stdout)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.util.clearNthLine">
            function <span class="apidocSignatureSpan">yarnpkg.util.</span>clearNthLine
            <span class="apidocSignatureSpan">(stdout, n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.util.toStartOfLine">
            function <span class="apidocSignatureSpan">yarnpkg.util.</span>toStartOfLine
            <span class="apidocSignatureSpan">(stdout)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.util.writeOnNthLine">
            function <span class="apidocSignatureSpan">yarnpkg.util.</span>writeOnNthLine
            <span class="apidocSignatureSpan">(stdout, n, msg)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.validate">module yarnpkg.validate</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.validate.cleanDependencies">
            function <span class="apidocSignatureSpan">yarnpkg.validate.</span>cleanDependencies
            <span class="apidocSignatureSpan">(info, isRoot, reporter, warn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.validate.default">
            function <span class="apidocSignatureSpan">yarnpkg.validate.</span>default
            <span class="apidocSignatureSpan">(info, isRoot, reporter, warn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.validate.isValidPackageName">
            function <span class="apidocSignatureSpan">yarnpkg.validate.</span>isValidPackageName
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.version">module yarnpkg.version</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.version.explodeHashedUrl">
            function <span class="apidocSignatureSpan">yarnpkg.version.</span>explodeHashedUrl
            <span class="apidocSignatureSpan">(url)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.why">module yarnpkg.why</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">yarnpkg.why.</span>requireLockfile</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.why.run">
            function <span class="apidocSignatureSpan">yarnpkg.why.</span>run
            <span class="apidocSignatureSpan">(_x5, _x6, _x7, _x8)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.wrapper">module yarnpkg.wrapper</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.wrapper.default">
            function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>default
            <span class="apidocSignatureSpan">(cache, source)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.wrapper.explodeEntry">
            function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>explodeEntry
            <span class="apidocSignatureSpan">(pattern, obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.wrapper.implodeEntry">
            function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>implodeEntry
            <span class="apidocSignatureSpan">(pattern, obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.wrapper.parse">
            function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>parse
            <span class="apidocSignatureSpan">(str)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.wrapper.stringify">
            function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>stringify
            <span class="apidocSignatureSpan">(obj, noHeader)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.yarn_registry">module yarnpkg.yarn_registry</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.yarn_registry.default">
            function <span class="apidocSignatureSpan">yarnpkg.yarn_registry.</span>default
            <span class="apidocSignatureSpan">(_npmRegistry || _load_npmRegistry()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">yarnpkg.yarn_registry.</span>DEFAULTS</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.yarnpkg.yarn_resolver">module yarnpkg.yarn_resolver</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.yarnpkg.yarn_resolver.default">
            function <span class="apidocSignatureSpan">yarnpkg.yarn_resolver.</span>default
            <span class="apidocSignatureSpan">(_npmResolver || _load_npmResolver()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg" id="apidoc.module.yarnpkg">module yarnpkg</a></h1>























































































































































































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg._execute_lifecycle_script" id="apidoc.module.yarnpkg._execute_lifecycle_script">module yarnpkg._execute_lifecycle_script</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg._execute_lifecycle_script.default" id="apidoc.element.yarnpkg._execute_lifecycle_script.default">
        function <span class="apidocSignatureSpan">yarnpkg._execute_lifecycle_script.</span>default
        <span class="apidocSignatureSpan">(_x, _x2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function (_x, _x2) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg._execute_lifecycle_script.execCommand" id="apidoc.element.yarnpkg._execute_lifecycle_script.execCommand">
        function <span class="apidocSignatureSpan">yarnpkg._execute_lifecycle_script.</span>execCommand
        <span class="apidocSignatureSpan">(_x7, _x8, _x9, _x10)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function execCommand(_x7, _x8, _x9, _x10) {
  return _ref3.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg._execute_lifecycle_script.execFromManifest" id="apidoc.element.yarnpkg._execute_lifecycle_script.execFromManifest">
        function <span class="apidocSignatureSpan">yarnpkg._execute_lifecycle_script.</span>execFromManifest
        <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function execFromManifest(_x3, _x4, _x5, _x6) {
  return _ref2.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg._useless" id="apidoc.module.yarnpkg._useless">module yarnpkg._useless</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg._useless.default" id="apidoc.element.yarnpkg._useless.default">
        function <span class="apidocSignatureSpan">yarnpkg._useless.</span>default
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function (message) {
  return {
    useless: true,
    run() {
      throw new (_errors || _load_errors()).MessageError(message);
    }
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.access" id="apidoc.module.yarnpkg.access">module yarnpkg.access</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.access.run" id="apidoc.element.yarnpkg.access.run">
        function <span class="apidocSignatureSpan">yarnpkg.access.</span>run
        <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.access.setFlags" id="apidoc.element.yarnpkg.access.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.access.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(`${ rootCommandName } [${ subCommandNames.join(&#x27;|&#x27;) }] [flags]`);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.add" id="apidoc.module.yarnpkg.add">module yarnpkg.add</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.add.Add" id="apidoc.element.yarnpkg.add.Add">
        function <span class="apidocSignatureSpan">yarnpkg.add.</span>Add
        <span class="apidocSignatureSpan">(_install || _load_install()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Add extends (_install || _load_install()).Install {
  constructor(args, flags, config, reporter, lockfile) {
    super(flags, config, reporter, lockfile);
    this.args = args;
  }

<span class="apidocCodeCommentSpan">  /**
   * TODO
   */
</span>
  prepare(patterns, requests) {
    const requestsWithArgs = requests.slice();

    for (const pattern of this.args) {
      requestsWithArgs.push({
        pattern,
        registry: &#x27;npm&#x27;,
        visibility: (_packageReference || _load_packageReference()).USED,
        optional: false
      });
    }

    return Promise.resolve({
      patterns: patterns.concat(this.args),
      requests: requestsWithArgs,
      skip: false
    });
  }

  /**
   * Description
   */

  init() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const patterns = yield (_install || _load_install()).Install.prototype.init.call(_this);
      yield _this.maybeOutputSaveTree(patterns);
      yield _this.savePackages();
      return patterns;
    })();
  }

  /**
   * Description
   */

  fetchRequestFromCwd() {
    return (_install || _load_install()).Install.prototype.fetchRequestFromCwd.call(this, this.args);
  }

  /**
   * Output a tree of any newly added dependencies.
   */

  maybeOutputSaveTree(patterns) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      var _ref = yield (0, (_ls || _load_ls()).buildTree)(_this2.resolver, _this2.linker, patterns, true, true);

      const trees = _ref.trees;
      const count = _ref.count;

      _this2.reporter.success(count === 1 ? _this2.reporter.lang(&#x27;savedNewDependency&#x27;) : _this2.reporter.lang(&#x27;savedNewDependencies
&#x27;, count));
      _this2.reporter.tree(&#x27;newDependencies&#x27;, trees);
    })();
  }

  /**
   * Save added packages to manifest if any of the --save flags were used.
   */

  savePackages() {
    var _this3 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      var _flags = _this3.flags;
      const dev = _flags.dev;
      const exact = _flags.exact;
      const tilde = _flags.tilde;
      const optional = _flags.optional;
      const peer = _flags.peer;

      // get all the different registry manifests in this folder

      const jsons = yield _this3.getRootManifests();

      // add new patterns to their appropriate registry manifest
      for (const pattern of _this3.resolver.dedupePatterns(_this3.args)) {
        const pkg = _this3.resolver.getResolvedPattern(pattern);
        invariant(pkg, `missing package ${ pattern }`);

        const ref = pkg._reference;
        invariant(ref, &#x27;expected package reference&#x27;);

        const parts = (_packageRequest || _load_packageRequest()).default.normalizePattern(pattern);
        let version;
        if (parts.hasVersion &#x26;&#x26; parts.range) {
          // if the user specified a range then use it verbatim
          version = parts.range;
        } else if ((_packageRequest || _load_packageRequest()).default.getExoticResolver(pattern)) {
          // wasn&#x27;t a name/range tuple so this is just a raw exotic pattern
          version = pattern;
        } else if (tilde) {
          // --save-tilde
          version = `~${ pkg.version }`;
        } else if (exact) {
          // --save-exact
          version = pkg.version;
        } else {
          // default to save prefix
          version = `${ String(_this3.config.getOption(&#x27;save-prefix&#x27;)) }${ pkg.version }`;
        }

        // build up list of objects to put ourselves into from the cli args
        const targetKeys = [];
        if (dev) {
          targetKeys.push(&#x27;devDependencies&#x27;);
        }
        if (peer) {
          targetKeys.push(&#x27;peerDependencies&#x27;);
        }
        if (optional) {
          targetKeys.push(&#x27;optionalDependencies&#x27;);
        }
        if (!targetKeys.length) {
          targetKeys.push(&#x27;dependencies&#x27;);
        }

        // add it to manifest
        const object = jsons[ref.registry].object;
        for (const key of targetKeys) {
          const target = object[key] = object[key ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function _load_asyncToGenerator() {
  return _asyncToGenerator2 = _interopRequireDefault(require(&#x27;babel-runtime/helpers/asyncToGenerator&#x27;));
}

let run = exports.run = (() =&#x3e; {
  var _ref = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (config, reporter, flags, args) {
    const lockfile = args.length ? yield (_wrapper || _load_wrapper()).default.fromDirectory(config.cwd, reporter) : new (_wrapper
 || _load_wrapper()).default();
    const install = new (_add || _load_add()).<span class="apidocCodeKeywordSpan">Add</span>(args, flags, config, reporter, lockfile
);
    yield install.init();
  });

  return function run(_x, _x2, _x3, _x4) {
    return _ref.apply(this, arguments);
  };
})();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.add.run" id="apidoc.element.yarnpkg.add.run">
        function <span class="apidocSignatureSpan">yarnpkg.add.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref2.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.add.setFlags" id="apidoc.element.yarnpkg.add.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.add.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(&#x27;add [packages ...] [flags]&#x27;);
  (0, (_install || _load_install())._setFlags)(commander);
  commander.option(&#x27;--dev&#x27;, &#x27;save package to your `devDependencies`&#x27;);
  commander.option(&#x27;--peer&#x27;, &#x27;save package to your `peerDependencies`&#x27;);
  commander.option(&#x27;--optional&#x27;, &#x27;save package to your `optionalDependencies`&#x27;);
  commander.option(&#x27;--exact&#x27;, &#x27;&#x27;);
  commander.option(&#x27;--tilde&#x27;, &#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.base_fetcher" id="apidoc.module.yarnpkg.base_fetcher">module yarnpkg.base_fetcher</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.base_fetcher.default" id="apidoc.element.yarnpkg.base_fetcher.default">
        function <span class="apidocSignatureSpan">yarnpkg.base_fetcher.</span>default
        <span class="apidocSignatureSpan">(dest, remote, config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BaseFetcher {
  constructor(dest, remote, config) {
    this.reference = remote.reference;
    this.registry = remote.registry;
    this.hash = remote.hash;
    this.remote = remote;
    this.config = config;
    this.dest = dest;
  }

  getResolvedFromCached(hash) {
    // fetcher subclasses may use this to perform actions such as copying over a cached tarbal to the offline
    // mirror etc
    return Promise.resolve();
  }

  _fetch() {
    return Promise.reject(new Error(&#x27;Not implemented&#x27;));
  }

  fetch() {
    var _this = this;

    const dest = this.dest;


    return (_fs || _load_fs()).lockQueue.push(dest, (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      yield (_fs || _load_fs()).mkdirp(dest);

      // fetch package and get the hash

      var _ref2 = yield _this._fetch();

      const hash = _ref2.hash;
      const resolved = _ref2.resolved;

      // load the new normalized manifest

      const pkg = yield _this.config.readManifest(dest, _this.registry);

      yield (_fs || _load_fs()).writeFile(path.join(dest, (_constants || _load_constants()).METADATA_FILENAME), JSON.stringify({
        remote: _this.remote,
        registry: _this.registry,
        hash
      }, null, &#x27;  &#x27;));

      return {
        resolved,
        hash,
        dest,
        package: pkg
      };
    }));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.base_registry" id="apidoc.module.yarnpkg.base_registry">module yarnpkg.base_registry</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.base_registry.default" id="apidoc.element.yarnpkg.base_registry.default">
        function <span class="apidocSignatureSpan">yarnpkg.base_registry.</span>default
        <span class="apidocSignatureSpan">(cwd, registries, requestManager)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BaseRegistry {
  constructor(cwd, registries, requestManager) {
    this.requestManager = requestManager;
    this.registries = registries;
    this.config = {};
    this.folder = &#x27;&#x27;;
    this.token = &#x27;&#x27;;
    this.loc = &#x27;&#x27;;
    this.cwd = cwd;
  }

  // whether to always flatten the graph for this registry, will cause manual conflict resolution


  // the filename to use for package metadata


  //


  //


  //


  //


  //


  // absolute folder name to insert modules


  // relative folder name to put these modules


  setToken(token) {
    this.token = token;
  }

  getOption(key) {
    return this.config[key];
  }

  loadConfig() {
    return (_promise || _load_promise()).default.resolve();
  }

  checkOutdated(config, name, range) {
    return (_promise || _load_promise()).default.reject(new Error(&#x27;unimplemented&#x27;));
  }

  saveHomeConfig(config) {
    return (_promise || _load_promise()).default.reject(new Error(&#x27;unimplemented&#x27;));
  }

  request(pathname) {
    let opts = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : {};

    return (_promise || _load_promise()).default.reject(new Error(&#x27;unimplemented&#x27;));
  }

  init() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      _this.mergeEnv(&#x27;yarn_&#x27;);
      yield _this.loadConfig();
      _this.loc = path.join(_this.cwd, _this.folder);
    })();
  }

  mergeEnv(prefix) {
    // try environment variables
    for (let key in process.env) {
      key = key.toLowerCase();

      // only accept keys prefixed with the prefix
      if (key.indexOf(prefix) &#x3c; 0) {
        continue;
      }

      const val = process.env[key];

      // remove bower prefix
      key = (0, (_misc || _load_misc()).removePrefix)(key, prefix);

      // replace dunders with dots
      key = key.replace(/__/g, &#x27;.&#x27;);

      // replace underscores with dashes
      key = key.replace(/_/g, &#x27;-&#x27;);

      // set it via a path
      objectPath.set(this.config, key, val);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.base_reporter" id="apidoc.module.yarnpkg.base_reporter">module yarnpkg.base_reporter</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.base_reporter.default" id="apidoc.element.yarnpkg.base_reporter.default">
        function <span class="apidocSignatureSpan">yarnpkg.base_reporter.</span>default
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BaseReporter {
  constructor() {
    let opts = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : {};

    const lang = &#x27;en&#x27;;
    this.language = lang;

    this.stdout = opts.stdout || process.stdout;
    this.stderr = opts.stderr || process.stderr;
    this.stdin = opts.stdin || process.stdin;
    this.emoji = !!opts.emoji;

    // $FlowFixMe: this is valid!
    this.isTTY = this.stdout.isTTY;

    this.peakMemory = 0;
    this.startTime = Date.now();
    this.format = (_format || _load_format()).defaultFormatter;
  }

  lang(key) {
    for (var _len = arguments.length, args = Array(_len &#x3e; 1 ? _len - 1 : 0), _key = 1; _key &#x3c; _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    const msg = (_index || _load_index())[this.language][key] || (_index || _load_index()).en[key];
    if (!msg) {
      throw new ReferenceError(`Unknown language key ${ key }`);
    }

    // stringify args
    args = stringifyLangArgs(args);

    // replace $0 placeholders with args
    return msg.replace(/\$(\d+)/g, function (str, i) {
      return args[i];
    });
  }

  initPeakMemoryCounter() {
    this.checkPeakMemory();
    this.peakMemoryInterval = setInterval(() =&#x3e; {
      this.checkPeakMemory();
    }, 1000);
  }

  checkPeakMemory() {
    var _process$memoryUsage = process.memoryUsage();

    const heapTotal = _process$memoryUsage.heapTotal;

    if (heapTotal &#x3e; this.peakMemory) {
      this.peakMemory = heapTotal;
    }
  }

  close() {
    if (this.peakMemoryInterval) {
      clearInterval(this.peakMemoryInterval);
      this.peakMemoryInterval = null;
    }
  }

  getTotalTime() {
    return Date.now() - this.startTime;
  }

  // TODO
  list(key, items) {}

  // TODO
  tree(key, obj) {}

  // called whenever we begin a step in the CLI.
  step(current, total, message, emoji) {}

  // a error message has been triggered. this however does not always meant an abrupt
  // program end.
  error(message) {}

  // an info message has been triggered. this provides things like stats and diagnostics.
  info(message) {}

  // a warning message has been triggered.
  warn(message) {}

  // a success message has been triggered.
  success(message) {}

  // a simple log message
  log(message) {}

  // a shell command has been executed
  command(command) {}

  // inspect and pretty-print any value
  inspect(value) {}

  // the screen shown at the very start of the CLI
  header(command, pkg) {}

  // the screen shown at the very end of the CLI
  footer(showPeakMemory) {}

  //
  table(head, body) {}

  // render an activity spinner and return a function that will trigger an update
  activity() {
    return {
      tick: function tick(name) {},
      end: function end() {}
    };
  }

  //
  activitySet(total, workers) {
    return {
      spinners: Array(workers).fill({
        clear: function clear() {},
        setPrefix: function setPrefix() {},
        tick: function tick() {},
        end: function end() {}
      }),
      end: function end() {}
    };
  }

  //
  question(question) {
    let options = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : {};

    return (_promise || _load_promise()).default.reject(new Error(&#x27;Not implemented&#x27;));
  }

  //
  questionAffirm(question) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const condition = true; // trick eslint

      while (condition) {
        let answer = yield _this.question(question);
        answer = answer.toLowerCase();

        if (answer === &#x27;y&#x27; || answer === &#x27;yes&#x27;) {
          return true;
        }
        if (answer === &#x27;n&#x27; || answer === &#x27;no&#x27;) {
          return false;
        }

        _this.error(&#x27;Invalid answer for question&#x27;);
      }

      return false;
    })();
  }

  // prompt the user to select an option from an array
  select(header, question, options) {
    return (_promise || _load_promise()).default.reject(new Error(&#x27;Not implemented&#x27;));
  }

  // render a progress bar and return a function which when called will trigger an update
  progress(tot ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.base_reporter.stringifyLangArgs" id="apidoc.element.yarnpkg.base_reporter.stringifyLangArgs">
        function <span class="apidocSignatureSpan">yarnpkg.base_reporter.</span>stringifyLangArgs
        <span class="apidocSignatureSpan">(args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stringifyLangArgs(args) {
  return args.map(function (val) {
    if (val != null &#x26;&#x26; val.inspect) {
      return val.inspect();
    } else {
      try {
        return (0, (_stringify || _load_stringify()).default)(val) || val + &#x27;&#x27;;
      } catch (e) {
        return util.inspect(val);
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.base_resolver" id="apidoc.module.yarnpkg.base_resolver">module yarnpkg.base_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.base_resolver.default" id="apidoc.element.yarnpkg.base_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.base_resolver.</span>default
        <span class="apidocSignatureSpan">(request, fragment)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BaseResolver {
  constructor(request, fragment) {
    this.resolver = request.resolver;
    this.reporter = request.reporter;
    this.fragment = fragment;
    this.registry = request.registry;
    this.request = request;
    this.pattern = request.pattern;
    this.config = request.config;
  }

  fork(Resolver, resolveArg) {
    for (var _len = arguments.length, args = Array(_len &#x3e; 2 ? _len - 2 : 0), _key = 2; _key &#x3c; _len; _key++) {
      args[_key - 2] = arguments[_key];
    }

    const resolver = new (Function.prototype.bind.apply(Resolver, [null].concat([this.request], args)))();
    resolver.registry = this.registry;
    return resolver.resolve(resolveArg);
  }

  resolve() {
    throw new Error(&#x27;Not implemented&#x27;);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.bin" id="apidoc.module.yarnpkg.bin">module yarnpkg.bin</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.bin.hasWrapper" id="apidoc.element.yarnpkg.bin.hasWrapper">
        function <span class="apidocSignatureSpan">yarnpkg.bin.</span>hasWrapper
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hasWrapper() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
const config = new (_config || _load_config()).default(reporter);

// print header
let outputWrapper = true;
if (typeof command.hasWrapper === &#x27;function&#x27;) {
  outputWrapper = command.<span class="apidocCodeKeywordSpan">hasWrapper</span>(commander, commander.args);
}
if (outputWrapper) {
  reporter.header(commandName, {
    name: &#x27;yarn&#x27;,
    version: pkg.version
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.bin.run" id="apidoc.element.yarnpkg.bin.run">
        function <span class="apidocSignatureSpan">yarnpkg.bin.</span>run
        <span class="apidocSignatureSpan">(config, reporter, flags, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(config, reporter, flags, args) {
  const binFolder = path.join(config.cwd, config.registries[(_yarnResolver || _load_yarnResolver()).default.registry].folder, &#x27;.
bin&#x27;);
  console.log(binFolder);
  return Promise.resolve();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.bitbucket_resolver" id="apidoc.module.yarnpkg.bitbucket_resolver">module yarnpkg.bitbucket_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.bitbucket_resolver.default" id="apidoc.element.yarnpkg.bitbucket_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.bitbucket_resolver.</span>default
        <span class="apidocSignatureSpan">(_hostedGitResolver || _load_hostedGitResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BitbucketResolver extends (_hostedGitResolver || _load_hostedGitResolver()).default {

  static getTarballUrl(parts, hash) {
    return `https://bitbucket.org/${ parts.user }/${ parts.repo }/get/${ hash }.tar.gz`;
  }

  static getGitHTTPUrl(parts) {
    return `https://bitbucket.org/${ parts.user }/${ parts.repo }.git`;
  }

  static getGitSSHUrl(parts) {
    return `git@bitbucket.org:${ parts.user }/${ parts.repo }.git`;
  }

  static getHTTPFileUrl(parts, filename, commit) {
    return `https://bitbucket.org/${ parts.user }/${ parts.repo }/raw/${ commit }/${ filename }`;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.blocking_queue" id="apidoc.module.yarnpkg.blocking_queue">module yarnpkg.blocking_queue</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.blocking_queue.default" id="apidoc.element.yarnpkg.blocking_queue.default">
        function <span class="apidocSignatureSpan">yarnpkg.blocking_queue.</span>default
        <span class="apidocSignatureSpan">(alias)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BlockingQueue {
  constructor(alias) {
    let maxConcurrency = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : Infinity;

    this.concurrencyQueue = [];
    this.maxConcurrency = maxConcurrency;
    this.runningCount = 0;
    this.warnedStuck = false;
    this.alias = alias;
    this.first = true;

    this.running = (0, (_map || _load_map()).default)();
    this.queue = (0, (_map || _load_map()).default)();

    this.stuckTick = this.stuckTick.bind(this);
  }

  stillActive() {
    if (this.stuckTimer) {
      clearTimeout(this.stuckTimer);
    }

    this.stuckTimer = setTimeout(this.stuckTick, 5000);
  }

  stuckTick() {
    if (this.runningCount === 1) {
      this.warnedStuck = true;
      debug(`The ${ (0, (_stringify || _load_stringify()).default)(this.alias) } blocking queue may be stuck. 5 seconds ` + `without
 any activity with 1 worker: ${ (0, (_keys || _load_keys()).default)(this.running)[0] }`);
    }
  }

  push(key, factory) {
    if (this.first) {
      this.first = false;
    } else {
      this.stillActive();
    }

    return new (_promise || _load_promise()).default((resolve, reject) =&#x3e; {
      // we&#x27;re already running so push ourselves to the queue
      const queue = this.queue[key] = this.queue[key] || [];
      queue.push({ factory: factory, resolve: resolve, reject: reject });

      if (!this.running[key]) {
        this.shift(key);
      }
    });
  }

  shift(key) {
    if (this.running[key]) {
      delete this.running[key];
      this.runningCount--;

      if (this.warnedStuck) {
        this.warnedStuck = false;
        debug(`${ (0, (_stringify || _load_stringify()).default)(this.alias) } blocking queue finally resolved. Nothing to worry
 about.`);
      }
    }

    const queue = this.queue[key];
    if (!queue) {
      return;
    }

    var _queue$shift = queue.shift();

    const resolve = _queue$shift.resolve;
    const reject = _queue$shift.reject;
    const factory = _queue$shift.factory;

    if (!queue.length) {
      delete this.queue[key];
    }

    const next = () =&#x3e; {
      this.shift(key);
      this.shiftConcurrencyQueue();
    };

    const run = () =&#x3e; {
      this.running[key] = true;
      this.runningCount++;

      factory().then(function (val) {
        resolve(val);
        next();
        return null;
      }).catch(function (err) {
        reject(err);
        next();
      });
    };

    this.maybePushConcurrencyQueue(run);
  }

  maybePushConcurrencyQueue(run) {
    if (this.runningCount &#x3c; this.maxConcurrency) {
      run();
    } else {
      this.concurrencyQueue.push(run);
    }
  }

  shiftConcurrencyQueue() {
    if (this.runningCount &#x3c; this.maxConcurrency) {
      const fn = this.concurrencyQueue.shift();
      if (fn) {
        fn();
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.bower_registry" id="apidoc.module.yarnpkg.bower_registry">module yarnpkg.bower_registry</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.bower_registry.default" id="apidoc.element.yarnpkg.bower_registry.default">
        function <span class="apidocSignatureSpan">yarnpkg.bower_registry.</span>default
        <span class="apidocSignatureSpan">(_baseRegistry || _load_baseRegistry()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BowerRegistry extends (_baseRegistry || _load_baseRegistry()).default {

  loadConfig() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      // docs: http://bower.io/docs/config/
      // spec: https://github.com/bower/spec/blob/master/config.md

      _this.mergeEnv(&#x27;bower_&#x27;);

      // merge in configs
      const possibles = [path.join(&#x27;/&#x27;, &#x27;.bowerrc&#x27;), path.join(userHome, &#x27;.bowerrc&#x27;),
      // TODO all .bowerrc files upwards the directory tree
      path.join(_this.cwd, &#x27;.bowerrc&#x27;)];
      for (const loc of possibles) {
        if (yield (_fs || _load_fs()).exists(loc)) {
          (0, (_assign || _load_assign()).default)(_this.config, (yield (_fs || _load_fs()).readJson(loc)));
        }
      }

      defaults(_this.config, {
        registry: &#x27;https://bower.herokuapp.com&#x27;,
        directory: &#x27;bower_components&#x27;
      });

      // TODO: warn on properties we do not support

      _this.folder = _this.config.directory;
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.bower_resolver" id="apidoc.module.yarnpkg.bower_resolver">module yarnpkg.bower_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.bower_resolver.default" id="apidoc.element.yarnpkg.bower_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.bower_resolver.</span>default
        <span class="apidocSignatureSpan">(_registryResolver || _load_registryResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BowerResolver extends (_registryResolver || _load_registryResolver()).default {

  resolveRequest() {
    return this.config.requestManager.request({
      url: `${ this.registryConfig.registry }/packages/${ this.name }`,
      json: true,
      queue: this.resolver.fetchingQueue
    });
  }

  resolve() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const body = yield _this.resolveRequest();

      if (body != null) {
        return _this.fork((_gitResolver || _load_gitResolver()).default, false, `${ body.url }#${ _this.range }`);
      } else {
        throw new (_errors || _load_errors()).MessageError(_this.reporter.lang(&#x27;packageNotFoundRegistry&#x27;, _this.name, &#x27;bower&#x27;));
      }
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.buffer_reporter" id="apidoc.module.yarnpkg.buffer_reporter">module yarnpkg.buffer_reporter</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.buffer_reporter.default" id="apidoc.element.yarnpkg.buffer_reporter.default">
        function <span class="apidocSignatureSpan">yarnpkg.buffer_reporter.</span>default
        <span class="apidocSignatureSpan">(_jsonReporter || _load_jsonReporter()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BufferReporter extends (_jsonReporter || _load_jsonReporter()).default {
  constructor(opts) {
    super(opts);
    this._buffer = [];
  }

  _dump(type, data, error) {
    this._buffer.push({
      type: type,
      data: data,
      error: !!error
    });
  }

  getBuffer() {
    return this._buffer;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.cache" id="apidoc.module.yarnpkg.cache">module yarnpkg.cache</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.cache.run" id="apidoc.element.yarnpkg.cache.run">
        function <span class="apidocSignatureSpan">yarnpkg.cache.</span>run
        <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.cache.setFlags" id="apidoc.element.yarnpkg.cache.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.cache.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(`${ rootCommandName } [${ subCommandNames.join(&#x27;|&#x27;) }] [flags]`);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.check" id="apidoc.module.yarnpkg.check">module yarnpkg.check</a></h1>






    <h2>
        <a href="#apidoc.element.yarnpkg.check.run" id="apidoc.element.yarnpkg.check.run">
        function <span class="apidocSignatureSpan">yarnpkg.check.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.check.setFlags" id="apidoc.element.yarnpkg.check.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.check.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.option(&#x27;--integrity&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.child" id="apidoc.module.yarnpkg.child">module yarnpkg.child</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.child.exec" id="apidoc.element.yarnpkg.child.exec">
        function <span class="apidocSignatureSpan">yarnpkg.child.</span>exec
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports.default = parsePackageName;

function _interopRequireDefault(obj) { return obj &#x26;&#x26; obj.__esModule ? obj : { default: obj }; }

const PKG_INPUT = /(^\S[^\s@]+)(?:@(\S+))?$/;

function parsePackageName(input) {
var _PKG_INPUT$exec = PKG_INPUT.<span class="apidocCodeKeywordSpan">exec</span>(input);

var _PKG_INPUT$exec2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_PKG_INPUT$exec, 3);

const name = _PKG_INPUT$exec2[1];
const version = _PKG_INPUT$exec2[2];

return { name: name, version: version };
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.child.spawn" id="apidoc.element.yarnpkg.child.spawn">
        function <span class="apidocSignatureSpan">yarnpkg.child.</span>spawn
        <span class="apidocSignatureSpan">(program, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function spawn(program, args) {
  let opts = arguments.length &#x3e; 2 &#x26;&#x26; arguments[2] !== undefined ? arguments[2] : {};
  let onData = arguments[3];

  return queue.push(opts.cwd || String(++uid), () =&#x3e; new (_promise || _load_promise()).default((resolve, reject) =&#x3e; {
    const proc = child.spawn(program, args, opts);

    let processingDone = false;
    let processClosed = false;
    let err = null;

    let stdout = &#x27;&#x27;;

    proc.on(&#x27;error&#x27;, err =&#x3e; {
      if (err.code === &#x27;ENOENT&#x27;) {
        reject(new (_errors || _load_errors()).MessageError(`Couldn&#x27;t find the binary ${ program }`));
      } else {
        reject(err);
      }
    });

    function updateStdout(chunk) {
      stdout += chunk;
      if (onData) {
        onData(chunk);
      }
    }

    function finish() {
      if (err) {
        reject(err);
      } else {
        resolve(stdout.trim());
      }
    }

    if (typeof opts.process === &#x27;function&#x27;) {
      opts.process(proc, updateStdout, reject, function () {
        if (processClosed) {
          finish();
        } else {
          processingDone = true;
        }
      });
    } else {
      if (proc.stderr) {
        proc.stderr.on(&#x27;data&#x27;, updateStdout);
      }

      if (proc.stdout) {
        proc.stdout.on(&#x27;data&#x27;, updateStdout);
      }

      processingDone = true;
    }

    proc.on(&#x27;close&#x27;, code =&#x3e; {
      if (code &#x3e;= 1) {
        // TODO make this output nicer
        err = new (_errors || _load_errors()).SpawnError([&#x27;Command failed.&#x27;, `Exit code: ${ code }`, `Command: ${ program }`, `Arguments
: ${ args.join(&#x27; &#x27;) }`, `Directory: ${ opts.cwd || process.cwd() }`, `Output:\n${ stdout.trim() }`].join(&#x27;\n&#x27;));
        err.EXIT_CODE = code;
      }

      if (processingDone || err) {
        finish();
      } else {
        processClosed = true;
      }
    });
  }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const exec = exports.exec = (0, (_promise2 || _load_promise2()).promisify)(child.exec);

function spawn(program, args) {
  let opts = arguments.length &#x3e; 2 &#x26;&#x26; arguments[2] !== undefined ? arguments[2] : {};
  let onData = arguments[3];

  return queue.push(opts.cwd || String(++uid), () =&#x3e; new (_promise || _load_promise()).default((resolve, reject) =&#x3e; {
const proc = child.<span class="apidocCodeKeywordSpan">spawn</span>(program, args, opts);

let processingDone = false;
let processClosed = false;
let err = null;

let stdout = &#x27;&#x27;;
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.clean" id="apidoc.module.yarnpkg.clean">module yarnpkg.clean</a></h1>






    <h2>
        <a href="#apidoc.element.yarnpkg.clean.clean" id="apidoc.element.yarnpkg.clean.clean">
        function <span class="apidocSignatureSpan">yarnpkg.</span>clean
        <span class="apidocSignatureSpan">(_x, _x2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clean(_x, _x2) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

exports.default = (() =&#x3e; {
  var _ref = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (info, moduleLoc, reporter, looseSemver) {
const files = yield (_fs || _load_fs()).readdir(moduleLoc);

// clean info.version
if (typeof info.version === &#x27;string&#x27; &#x26;&#x26; !semver.valid(info.version)) {
  info.version = semver.<span class="apidocCodeKeywordSpan">clean</span>(info.version, looseSemver) || info.version;
}

// if name or version aren&#x27;t set then set them to empty strings
info.name = info.name || &#x27;&#x27;;
info.version = info.version || &#x27;&#x27;;

// if the man field is a string then coerce it to an array
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.clean.run" id="apidoc.element.yarnpkg.clean.run">
        function <span class="apidocSignatureSpan">yarnpkg.clean.</span>run
        <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x3, _x4, _x5, _x6) {
  return _ref2.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.config" id="apidoc.module.yarnpkg.config">module yarnpkg.config</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.config.default" id="apidoc.element.yarnpkg.config.default">
        function <span class="apidocSignatureSpan">yarnpkg.config.</span>default
        <span class="apidocSignatureSpan">(reporter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Config {
  constructor(reporter) {
    this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).default(this, reporter);
    this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
    this.reporter = reporter;
    this._init({});
  }

  //


  //


  //


  //


  //


  //


  //


  //


  //


  //


  //


  //


  //


  //


<span class="apidocCodeCommentSpan">  /**
   * Execute a promise produced by factory if it doesn&#x27;t exist in our cache with
   * the associated key.
   */
</span>
  getCache(key, factory) {
    const cached = this.cache[key];
    if (cached) {
      return cached;
    }

    return this.cache[key] = factory().catch(err =&#x3e; {
      this.cache[key] = null;
      throw err;
    });
  }

  /**
   * Get a config option from our yarn config.
   */

  getOption(key) {
    return this.registries.yarn.getOption(key);
  }

  /**
   * Reduce a list of versions to a single one based on an input range.
   */

  resolveConstraints(versions, range) {
    return this.constraintResolver.reduce(versions, range);
  }

  /**
   * Initialise config. Fetch registry options, find package roots.
   */

  init() {
    var _this = this;

    let opts = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : {};
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      _this._init(opts);

      yield (_fs || _load_fs()).mkdirp(_this.globalFolder);
      yield (_fs || _load_fs()).mkdirp(_this.packagesRoot);
      yield (_fs || _load_fs()).mkdirp(_this.tempFolder);

      yield (_fs || _load_fs()).mkdirp(_this.linkFolder);
      _this.linkedModules = yield (_fs || _load_fs()).readdir(_this.linkFolder);

      for (const key of Object.keys((_index2 || _load_index2()).registries)) {
        const Registry = (_index2 || _load_index2()).registries[key];

        // instantiate registry
        const registry = new Registry(_this.cwd, _this.registries, _this.requestManager);
        yield registry.init();

        _this.registries[key] = registry;
        _this.registryFolders.push(registry.folder);
        _this.rootModuleFolders.push(path.join(_this.cwd, registry.folder));
      }

      _this.requestManager.setOptions({
        userAgent: String(_this.getOption(&#x27;user-agent&#x27;)),
        httpProxy: String(_this.getOption(&#x27;proxy&#x27;) || &#x27;&#x27;),
        httpsProxy: String(_this.getOption(&#x27;https-proxy&#x27;) || &#x27;&#x27;)
      });
    })();
  }

  _init(opts) {
    this.rootModuleFolders = [];
    this.registryFolders = [];
    this.linkedModules = [];

    this.registries = (0, (_map || _load_map()).default)();
    this.cache = (0, (_map || _load_map()).default)();
    this.cwd = opts.cwd || this.cwd || process.cwd();

    this.looseSemver = opts.looseSemver == undefined ? true : opts.looseSemver;

    this.preferOffline = !!opts.preferOffline;
    this.modulesFolder = opts.modulesFolder;
    this.globalFolder = opts.globalFolder || (_constants || _load_constants()).GLOBAL_MODULE_DIRECTORY;
    this.packagesRoot = opts.packagesRoot || (_constants || _load_constants()).MODULE_CACHE_DIRECTORY;
    this.linkFolder = opts.linkFolder || (_constants || _load_constants()).LINK_REGISTRY_DIRECTORY;
    this.tempFolder = opts.tempFolder || path.join(this.packagesRoot, &#x27;.tmp&#x27;);
    this.offline = !!opts.offline;

    this.requestManager.setOptions({
      offline: !!opts.offline &#x26;&#x26; !opts.preferOffline,
      captureHar: !!opts.captureHar
    });

    if (this.modulesFolder) {
      this.rootModuleFolders.push(this.modulesFolder);
    }
  }

  /**
   * Generate an absolute module path.
   */

  generateHardModulePath(pkg, ignoreLocation) {
    invariant(this.packagesRoot, &#x27;No package root&#x27;);
    invariant(pkg, &#x27;Undefined package&#x27;);
    invariant(pkg.name, &#x27;No name field in package&#x27;);
    invariant(pkg.uid, &#x27;No uid field in package&#x27;);
    if (pkg.location &#x26;&#x26; !ignoreLocation) {
      return pkg.location;
    }

    let name = pkg.name;
    let uid = pkg.uid;
    if (pkg.registry) {
      name = `${ pkg.registry }-${ name }`;
      uid = pkg.version || uid;
    }

    return path. ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.console_reporter" id="apidoc.module.yarnpkg.console_reporter">module yarnpkg.console_reporter</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.console_reporter.default" id="apidoc.element.yarnpkg.console_reporter.default">
        function <span class="apidocSignatureSpan">yarnpkg.console_reporter.</span>default
        <span class="apidocSignatureSpan">(_baseReporter || _load_baseReporter()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class ConsoleReporter extends (_baseReporter || _load_baseReporter()).default {
  constructor(opts) {
    super(opts);
    this._lastCategorySize = 0;

    this.format = chalk;
  }

  // TODO flow bug


  _prependEmoji(msg, emoji) {
    if (this.emoji &#x26;&#x26; emoji &#x26;&#x26; this.isTTY) {
      msg = `${ emoji }  ${ msg }`;
    }
    return msg;
  }

  _logCategory(category, color, msg) {
    this._lastCategorySize = category.length;
    this._log(`${ this.format[color](category) } ${ msg }`);
  }

  table(head, body) {
    //
    head = head.map(field =&#x3e; this.format.underline(field));

    //
    const rows = [head].concat(body);

    // get column widths
    const cols = [];
    for (let i = 0; i &#x3c; head.length; i++) {
      const widths = rows.map(row =&#x3e; this.format.stripColor(row[i]).length);
      cols[i] = Math.max.apply(Math, (0, (_toConsumableArray2 || _load_toConsumableArray()).default)(widths));
    }

    //
    const builtRows = rows.map(row =&#x3e; {
      for (let i = 0; i &#x3c; row.length; i++) {
        const field = row[i];
        const padding = cols[i] - this.format.stripColor(field).length;

        row[i] = field + repeat(&#x27; &#x27;, padding);
      }
      return row.join(&#x27; &#x27;);
    });

    this.log(builtRows.join(&#x27;\n&#x27;));
  }

  step(current, total, msg, emoji) {
    msg = this._prependEmoji(msg, emoji);

    if (msg.endsWith(&#x27;?&#x27;)) {
      msg = `${ (0, (_misc || _load_misc()).removeSuffix)(msg, &#x27;?&#x27;) }...?`;
    } else {
      msg += &#x27;...&#x27;;
    }

    this.log(`${ this.format.grey(`[${ current }/${ total }]`) } ${ msg }`);
  }

  inspect(value) {
    if (typeof value !== &#x27;number&#x27; &#x26;&#x26; typeof value !== &#x27;string&#x27;) {
      value = inspect(value, {
        breakLength: 0,
        colors: true,
        depth: null,
        maxArrayLength: null
      });
    }

    this.log(value);
  }

  list(key, items) {
    const gutterWidth = (this._lastCategorySize || 2) - 1;
    for (const item of items) {
      this._log(`${ repeat(&#x27; &#x27;, gutterWidth) }- ${ item }`);
    }
  }

  header(command, pkg) {
    this.log(this.format.bold(`${ pkg.name } ${ command } v${ pkg.version }`));
  }

  footer(showPeakMemory) {
    const totalTime = (this.getTotalTime() / 1000).toFixed(2);
    let msg = `Done in ${ totalTime }s.`;
    if (showPeakMemory) {
      const peakMemory = (this.peakMemory / 1024 / 1024).toFixed(2);
      msg += ` Peak memory usage ${ peakMemory }MB.`;
    }
    this.log(this._prependEmoji(msg, &#x27;✨&#x27;));
  }

  log(msg) {
    this._lastCategorySize = 0;
    this._log(msg);
  }

  _log(msg) {
    (0, (_util || _load_util()).clearLine)(this.stdout);
    this.stdout.write(`${ msg }\n`);
  }

  success(msg) {
    this._logCategory(&#x27;success&#x27;, &#x27;green&#x27;, msg);
  }

  error(msg) {
    (0, (_util || _load_util()).clearLine)(this.stderr);
    this.stderr.write(`${ this.format.red(&#x27;error&#x27;) } ${ msg }\n`);
  }

  info(msg) {
    this._logCategory(&#x27;info&#x27;, &#x27;blue&#x27;, msg);
  }

  command(command) {
    this.log(this.format.grey(`$ ${ command }`));
  }

  warn(msg) {
    (0, (_util || _load_util()).clearLine)(this.stderr);
    this.stderr.write(`${ this.format.yellow(&#x27;warning&#x27;) } ${ msg }\n`);
  }

  question(question) {
    let options = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : {};

    if (!process.stdout.isTTY) {
      return (_promise || _load_promise()).default.reject(new Error(&#x22;Can&#x27;t answer a question unless a user TTY&#x22;));
    }

    return new (_promise || _load_promise()).default((resolve, reject) =&#x3e; {
      read({
        prompt: `${ this.format.grey(&#x27;question&#x27;) } ${ question }: `,
        silent: !!options.password,
        output: this.stdout,
        input: this.stdin
      }, (err, answer) =&#x3e; {
        if (err) {
          reject(err);
        } else {
          if (!answer &#x26;&#x26; options.required) {
            this.error(this.lang(&#x27;answerRequired&#x27;));
            resolve(this.question(question, options));
          } else {
            resolve(answer);
          }
        }
      });
    });
  }

  tree(key, trees) {
    trees = sortTrees(trees);

    const stdout = this.stdout;

    const output = (_ref, level, end) =&#x3e; { ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.constants" id="apidoc.module.yarnpkg.constants">module yarnpkg.constants</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.constants.getModuleCacheDirectory" id="apidoc.element.yarnpkg.constants.getModuleCacheDirectory">
        function <span class="apidocSignatureSpan">yarnpkg.constants.</span>getModuleCacheDirectory
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getModuleCacheDirectory() {
  // use %LOCALAPPDATA%/Yarn on Windows
  if (process.platform === &#x27;win32&#x27; &#x26;&#x26; process.env.LOCALAPPDATA) {
    return path.join(process.env.LOCALAPPDATA, &#x27;Yarn&#x27;);
  }

  // otherwise use ~/.yarn
  return path.join(userHome, &#x27;.yarn-cache&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.constants.getPathKey" id="apidoc.element.yarnpkg.constants.getPathKey">
        function <span class="apidocSignatureSpan">yarnpkg.constants.</span>getPathKey
        <span class="apidocSignatureSpan">(platform, env)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getPathKey(platform, env) {
  let pathKey = &#x27;PATH&#x27;;

  // windows calls it&#x27;s path &#x22;Path&#x22; usually, but this is not guaranteed.
  if (platform === &#x27;win32&#x27;) {
    pathKey = &#x27;Path&#x27;;

    for (const key in env) {
      if (key.toLowerCase() === &#x27;path&#x27;) {
        pathKey = key;
      }
    }
  }

  return pathKey;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.copy_fetcher" id="apidoc.module.yarnpkg.copy_fetcher">module yarnpkg.copy_fetcher</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.copy_fetcher.default" id="apidoc.element.yarnpkg.copy_fetcher.default">
        function <span class="apidocSignatureSpan">yarnpkg.copy_fetcher.</span>default
        <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class CopyFetcher extends (_baseFetcher || _load_baseFetcher()).default {
  _fetch() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      yield (_fs || _load_fs()).copy(_this.reference, _this.dest);
      return {
        hash: _this.hash || &#x27;&#x27;,
        resolved: null
      };
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.crypto" id="apidoc.module.yarnpkg.crypto">module yarnpkg.crypto</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.crypto.HashStream" id="apidoc.element.yarnpkg.crypto.HashStream">
        function <span class="apidocSignatureSpan">yarnpkg.crypto.</span>HashStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class HashStream extends stream.Transform {
  constructor(options) {
    super(options);
    this._hash = crypto.createHash(&#x27;sha1&#x27;);
    this._updated = false;
  }

  _transform(chunk, encoding, callback) {
    this._updated = true;
    this._hash.update(chunk);
    callback(null, chunk);
  }

  getHash() {
    return this._hash.digest(&#x27;hex&#x27;);
  }

  test(sum) {
    return this._updated &#x26;&#x26; sum === this.getHash();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (offlineMirrorPath == null) {
  return null;
}
return path.relative(offlineMirrorPath, mirrorPath);
  }

  createExtractor(mirrorPath, resolve, reject) {
const validateStream = new (_crypto || _load_crypto()).<span class="apidocCodeKeywordSpan">HashStream</span>();
const extractorStream = new (_stream || _load_stream()).UnpackStream();
const untarStream = tar.Extract({ path: this.dest, strip: 1 });

extractorStream.pipe(untarStream).on(&#x27;error&#x27;, reject).on(&#x27;end&#x27;, () =&#x3e; {
  const expectHash = this.hash;
  const actualHash = validateStream.getHash();
  if (!expectHash || expectHash === actualHash) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.crypto.hash" id="apidoc.element.yarnpkg.crypto.hash">
        function <span class="apidocSignatureSpan">yarnpkg.crypto.</span>hash
        <span class="apidocSignatureSpan">(content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hash(content) {
  let type = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : &#x27;md5&#x27;;

  return crypto.createHash(type).update(content).digest(&#x27;hex&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  const mirror = this.config.getOfflineMirrorPath();
  if (mirror != null) {
    opts.push(`mirror:${ mirror }`);
  }

  return (_misc || _load_misc()).<span class="apidocCodeKeywordSpan">hash</span>(opts.join(&#x27;-&#x27;));
}
}

exports.Install = Install;
function _setFlags(commander) {
commander.option(&#x27;--har&#x27;, &#x27;save HAR output of network traffic&#x27;);
commander.option(&#x27;--ignore-engines&#x27;, &#x27;ignore engines check&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.errors" id="apidoc.module.yarnpkg.errors">module yarnpkg.errors</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.errors.MessageError" id="apidoc.element.yarnpkg.errors.MessageError">
        function <span class="apidocSignatureSpan">yarnpkg.errors.</span>MessageError
        <span class="apidocSignatureSpan">(msg, code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class MessageError extends Error {
  constructor(msg, code) {
    super(msg);
    this.code = code;
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      } else if (ignore.indexOf(name) &#x3c; 0) {
        this.reporter.warn(`${ human }: ${ this.reporter.lang(&#x27;invalidEngine&#x27;, name) }`);
      }
    }
  }

  if (didError) {
    throw new (_errors || _load_errors()).<span class="apidocCodeKeywordSpan">MessageError</span>(reporter.lang(&#x27;foundIncompatible
&#x27;));
  }
}

init() {
  const infos = this.resolver.getManifests();
  for (const info of infos) {
    this.check(info);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.errors.SecurityError" id="apidoc.element.yarnpkg.errors.SecurityError">
        function <span class="apidocSignatureSpan">yarnpkg.errors.</span>SecurityError
        <span class="apidocSignatureSpan">{{signature}}</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class SecurityError extends Error {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    const actualHash = validateStream.getHash();
    if (!expectHash || expectHash === actualHash) {
      resolve({
        hash: actualHash,
        resolved: mirrorPath ? `${ mirrorPath }#${ actualHash }` : null
      });
    } else {
      reject(new (_errors || _load_errors()).<span class="apidocCodeKeywordSpan">SecurityError</span>(`Bad hash. Expected ${ expectHash
 } but got ${ actualHash } `));
    }
  });

  return { validateStream, extractorStream };
}

fetchFromLocal(pathname) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.errors.SpawnError" id="apidoc.element.yarnpkg.errors.SpawnError">
        function <span class="apidocSignatureSpan">yarnpkg.errors.</span>SpawnError
        <span class="apidocSignatureSpan">{{signature}}</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class SpawnError extends Error {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

processingDone = true;
    }

    proc.on(&#x27;close&#x27;, code =&#x3e; {
if (code &#x3e;= 1) {
  // TODO make this output nicer
  err = new (_errors || _load_errors()).<span class="apidocCodeKeywordSpan">SpawnError</span>([&#x27;Command failed.&#x27;, `Exit
 code: ${ code }`, `Command: ${ program }`, `Arguments: ${ args.join(&#x27; &#x27;) }`, `Directory: ${ opts.cwd || process.cwd() }`, `
Output:\n${ stdout.trim() }`].join(&#x27;\n&#x27;));
  err.EXIT_CODE = code;
}

if (processingDone || err) {
  finish();
} else {
  processClosed = true;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.event_reporter" id="apidoc.module.yarnpkg.event_reporter">module yarnpkg.event_reporter</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.event_reporter.default" id="apidoc.element.yarnpkg.event_reporter.default">
        function <span class="apidocSignatureSpan">yarnpkg.event_reporter.</span>default
        <span class="apidocSignatureSpan">(_jsonReporter || _load_jsonReporter()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class EventReporter extends (_jsonReporter || _load_jsonReporter()).default {
  constructor(opts) {
    super(opts);

    // $FlowFixMe: looks like a flow bug
    EventEmitter.call(this);
  }

  _dump(type, data) {
    // $FlowFixMe: this is here! we have no `implements` in Flow though...
    this.emit(type, data);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.execute_lifecycle_script" id="apidoc.module.yarnpkg.execute_lifecycle_script">module yarnpkg.execute_lifecycle_script</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.execute_lifecycle_script.default" id="apidoc.element.yarnpkg.execute_lifecycle_script.default">
        function <span class="apidocSignatureSpan">yarnpkg.execute_lifecycle_script.</span>default
        <span class="apidocSignatureSpan">(_x4, _x5, _x6, _x7, _x8)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function (_x4, _x5, _x6, _x7, _x8) {
  return _ref2.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.exotic_resolver" id="apidoc.module.yarnpkg.exotic_resolver">module yarnpkg.exotic_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.exotic_resolver.default" id="apidoc.element.yarnpkg.exotic_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.exotic_resolver.</span>default
        <span class="apidocSignatureSpan">(_baseResolver || _load_baseResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class ExoticResolver extends (_baseResolver || _load_baseResolver()).default {

  static isVersion(pattern) {
    const proto = this.protocol;
    if (proto) {
      return pattern.startsWith(`${ proto }:`);
    } else {
      throw new Error(&#x27;No protocol specified&#x27;);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.fieri" id="apidoc.module.yarnpkg.fieri">module yarnpkg.fieri</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.fieri.hasWrapper" id="apidoc.element.yarnpkg.fieri.hasWrapper">
        function <span class="apidocSignatureSpan">yarnpkg.fieri.</span>hasWrapper
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hasWrapper() {
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
const config = new (_config || _load_config()).default(reporter);

// print header
let outputWrapper = true;
if (typeof command.hasWrapper === &#x27;function&#x27;) {
  outputWrapper = command.<span class="apidocCodeKeywordSpan">hasWrapper</span>(commander, commander.args);
}
if (outputWrapper) {
  reporter.header(commandName, {
    name: &#x27;yarn&#x27;,
    version: pkg.version
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fieri.run" id="apidoc.element.yarnpkg.fieri.run">
        function <span class="apidocSignatureSpan">yarnpkg.fieri.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run() {
  for (let line of guy) {
    console.log(randomColor(line));
  }
  return Promise.resolve();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.file_resolver" id="apidoc.module.yarnpkg.file_resolver">module yarnpkg.file_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.file_resolver.default" id="apidoc.element.yarnpkg.file_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.file_resolver.</span>default
        <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class FileResolver extends (_exoticResolver || _load_exoticResolver()).default {
  constructor(request, fragment) {
    super(request, fragment);
    this.loc = (_misc || _load_misc()).removePrefix(fragment, &#x27;file:&#x27;);
  }

  resolve() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      let loc = _this.loc;
      if (!path.isAbsolute(loc)) {
        loc = path.join(_this.config.cwd, loc);
      }
      if (!(yield (_fs || _load_fs()).exists(loc))) {
        throw new (_errors || _load_errors()).MessageError(_this.reporter.lang(&#x27;doesntExist&#x27;, loc));
      }

      const manifest = yield _this.config.readManifest(loc, _this.registry);
      const registry = manifest._registry;
      invariant(registry, &#x27;expected registry&#x27;);

      manifest._remote = {
        type: &#x27;copy&#x27;,
        registry: registry,
        reference: loc
      };

      manifest._uid = manifest.version;

      return manifest;
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.filter" id="apidoc.module.yarnpkg.filter">module yarnpkg.filter</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.filter.ignoreLinesToRegex" id="apidoc.element.yarnpkg.filter.ignoreLinesToRegex">
        function <span class="apidocSignatureSpan">yarnpkg.filter.</span>ignoreLinesToRegex
        <span class="apidocSignatureSpan">(lines)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ignoreLinesToRegex(lines) {
  let base = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : &#x27;.&#x27;;

  return lines
  // create regex
  .map(line =&#x3e; {
    // remove empty lines, comments, etc
    if (line === &#x27;&#x27; || line === &#x27;!&#x27; || line[0] === &#x27;#&#x27; || WHITESPACE_RE.test(line)) {
      return null;
    }

    let pattern = line;
    let isNegation = false;

    // hide the fact that it&#x27;s a negation from minimatch since we&#x27;ll handle this specifally
    // ourselves
    if (pattern[0] === &#x27;!&#x27;) {
      isNegation = true;
      pattern = pattern.slice(1);
    }

    // remove trailing slash
    pattern = (0, (_misc || _load_misc()).removeSuffix)(pattern, &#x27;/&#x27;);

    const regex = minimatch.makeRe(pattern, { nocase: true });

    if (regex) {
      return {
        base: base,
        isNegation: isNegation,
        regex: regex
      };
    } else {
      return null;
    }
  }).filter(Boolean);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.filter.matchesFilter" id="apidoc.element.yarnpkg.filter.matchesFilter">
        function <span class="apidocSignatureSpan">yarnpkg.filter.</span>matchesFilter
        <span class="apidocSignatureSpan">(filter, basename, loc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function matchesFilter(filter, basename, loc) {
  if (filter.base &#x26;&#x26; filter.base !== &#x27;.&#x27;) {
    loc = path.relative(filter.base, loc);
  }
  return filter.regex.test(loc) || filter.regex.test(`/${ loc }`) || filter.regex.test(basename);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.filter.sortFilter" id="apidoc.element.yarnpkg.filter.sortFilter">
        function <span class="apidocSignatureSpan">yarnpkg.filter.</span>sortFilter
        <span class="apidocSignatureSpan">(files, filters)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sortFilter(files, filters) {
  let keepFiles = arguments.length &#x3e; 2 &#x26;&#x26; arguments[2] !== undefined ? arguments[2] : new (_set || _load_set()).default();
  let possibleKeepFiles = arguments.length &#x3e; 3 &#x26;&#x26; arguments[3] !== undefined ? arguments[3] : new (_set || _load_set()).default();
  let ignoreFiles = arguments.length &#x3e; 4 &#x26;&#x26; arguments[4] !== undefined ? arguments[4] : new (_set || _load_set()).default();

  for (const file of files) {
    let keep = false;

    // always keep a file if a ! pattern matches it
    for (const filter of filters) {
      if (filter.isNegation &#x26;&#x26; matchesFilter(filter, file.basename, file.relative)) {
        keep = true;
        break;
      }
    }

    //
    if (keep) {
      keepFiles.add(file.relative);
      continue;
    }

    // otherwise don&#x27;t keep it if a pattern matches it
    keep = true;
    for (const filter of filters) {
      if (!filter.isNegation &#x26;&#x26; matchesFilter(filter, file.basename, file.relative)) {
        keep = false;
        break;
      }
    }

    if (keep) {
      possibleKeepFiles.add(file.relative);
    } else {
      ignoreFiles.add(file.relative);
    }
  }

  // exclude file
  for (const file of possibleKeepFiles) {
    const parts = path.dirname(file).split(path.sep);

    while (parts.length) {
      const folder = parts.join(path.sep);
      if (ignoreFiles.has(folder)) {
        ignoreFiles.add(file);
        break;
      }
      parts.pop();
    }
  }

  //
  for (const file of possibleKeepFiles) {
    if (!ignoreFiles.has(file)) {
      keepFiles.add(file);
    }
  }

  //
  for (const file of keepFiles) {
    const parts = path.dirname(file).split(path.sep);

    while (parts.length) {
      // deregister this folder from being ignored, any files inside
      // will still be marked as ignored
      ignoreFiles.delete(parts.join(path.sep));
      parts.pop();
    }
  }

  return { keepFiles: keepFiles, ignoreFiles: ignoreFiles };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.fix" id="apidoc.module.yarnpkg.fix">module yarnpkg.fix</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.fix.default" id="apidoc.element.yarnpkg.fix.default">
        function <span class="apidocSignatureSpan">yarnpkg.fix.</span>default
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function (_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.fs" id="apidoc.module.yarnpkg.fs">module yarnpkg.fs</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.fs.access" id="apidoc.element.yarnpkg.fs.access">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>access
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">access = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.chmod" id="apidoc.element.yarnpkg.fs.chmod">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>chmod
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">chmod = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

let linkBin = exports.linkBin = (() =&#x3e; {
  var _ref = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (src, dest) {
    if (process.platform === &#x27;win32&#x27;) {
      yield cmdShim(src, dest);
    } else {
      yield (_fs || _load_fs()).symlink(src, dest);
      yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">chmod</span>(dest, &#x27;755&#x27;);
    }
  });

  return function linkBin(_x, _x2) {
    return _ref.apply(this, arguments);
  };
})();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.copy" id="apidoc.element.yarnpkg.fs.copy">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>copy
        <span class="apidocSignatureSpan">(src, dest)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function copy(src, dest) {
  return copyBulk([{ src: src, dest: dest }]);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function _interopRequireDefault(obj) { return obj &#x26;&#x26; obj.__esModule ? obj : { default: obj }; }

class CopyFetcher extends (_baseFetcher || _load_baseFetcher()).default {
  _fetch() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">copy</span>(_this.reference, _this.dest);
      return {
        hash: _this.hash || &#x27;&#x27;,
        resolved: null
      };
    })();
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.copyBulk" id="apidoc.element.yarnpkg.fs.copyBulk">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>copyBulk
        <span class="apidocSignatureSpan">(_x5, _x6)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function copyBulk(_x5, _x6) {
  return _ref3.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        src: path.join(loc, file),
        dest: path.join(cachedLoc, file),
        onDone: function onDone() {
          spinner.tick(`Cached build artifact ${ file }`);
        }
      });
    }
    yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">copyBulk</span>(copyRequests, {
      possibleExtraneous: false
    });
    yield (_fs || _load_fs()).writeFile(cachedMetadataLoc, cachedMetadata);
  }

  return res;
})();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.exists" id="apidoc.element.yarnpkg.fs.exists">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>exists
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exists = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  /**
   * Checker whether the folder input is a valid module folder. We output a yarn metadata
   * file when we&#x27;ve successfully setup a folder so use this as a marker.
   */

  isValidModuleDest(dest) {
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
if (!(yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">exists</span>(dest))) {
  return false;
}

if (!(yield (_fs || _load_fs()).exists(path.join(dest, (_constants || _load_constants()).METADATA_FILENAME)))) {
  return false;
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.find" id="apidoc.element.yarnpkg.fs.find">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>find
        <span class="apidocSignatureSpan">(_x9, _x10)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function find(_x9, _x10) {
  return _ref6.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const promises = [];
const deps = [];

// normal deps
for (const depName in info.dependencies) {
  const depPattern = depName + &#x27;@&#x27; + info.dependencies[depName];
  deps.push(depPattern);
  promises.push(_this3.resolver.<span class="apidocCodeKeywordSpan">find</span>({
    pattern: depPattern,
    registry: remote.registry,
    visibility: (_packageReference || _load_packageReference()).USED,
    optional: false,
    parentRequest: _this3
  }));
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.lstat" id="apidoc.element.yarnpkg.fs.lstat">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>lstat
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lstat = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      possibleExtraneous.add(path.join(loc, file));
    }
  }
}

// linked modules
for (const loc of possibleExtraneous) {
  const stat = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">lstat</span>(loc);
  if (stat.isSymbolicLink()) {
    possibleExtraneous.delete(loc);
    queue.delete(loc);
  }
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.mkdirp" id="apidoc.element.yarnpkg.fs.mkdirp">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>mkdirp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">mkdirp = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  init() {
    var _this = this;

    let opts = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : {};
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
_this._init(opts);

yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">mkdirp</span>(_this.globalFolder);
yield (_fs || _load_fs()).mkdirp(_this.packagesRoot);
yield (_fs || _load_fs()).mkdirp(_this.tempFolder);

yield (_fs || _load_fs()).mkdirp(_this.linkFolder);
_this.linkedModules = yield (_fs || _load_fs()).readdir(_this.linkFolder);

for (const key of Object.keys((_index2 || _load_index2()).registries)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.normalizeOS" id="apidoc.element.yarnpkg.fs.normalizeOS">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>normalizeOS
        <span class="apidocSignatureSpan">(body)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function normalizeOS(body) {
  return body.replace(/\r\n/g, &#x27;\n&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.readFile" id="apidoc.element.yarnpkg.fs.readFile">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFile
        <span class="apidocSignatureSpan">(loc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readFile(loc) {
  return _readFile(loc, &#x27;utf8&#x27;).then(normalizeOS);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// if the process is killed while copying over build artifacts then we&#x27;ll leave
// the cache in a bad state. remove the metadata file and add it back once we&#x27;ve
// done our copies to ensure cache integrity.
const cachedLoc = _this2.config.generateHardModulePath(pkg._reference, true);
const cachedMetadataLoc = path.join(cachedLoc, (_constants || _load_constants()).METADATA_FILENAME);
const cachedMetadata = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">readFile</span>(cachedMetadataLoc);
yield (_fs || _load_fs()).unlink(cachedMetadataLoc);

// remove files that install script removed
if (removedFiles.length) {
  for (const file of removedFiles) {
    yield (_fs || _load_fs()).unlink(path.join(cachedLoc, file));
  }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.readFileAny" id="apidoc.element.yarnpkg.fs.readFileAny">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFileAny
        <span class="apidocSignatureSpan">(_x7)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readFileAny(_x7) {
  return _ref4.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.readFileBuffer" id="apidoc.element.yarnpkg.fs.readFileBuffer">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFileBuffer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readFileBuffer = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.readFileRaw" id="apidoc.element.yarnpkg.fs.readFileRaw">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readFileRaw
        <span class="apidocSignatureSpan">(loc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readFileRaw(loc) {
  return _readFile(loc, &#x27;binary&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

let type;
let buffer;
let linkname;
if (stat.isDirectory()) {
  type = &#x27;directory&#x27;;
} else if (stat.isFile()) {
  buffer = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">readFileRaw</span>(loc);
  type = &#x27;file&#x27;;
} else if (stat.isSymbolicLink()) {
  type = &#x27;symlink&#x27;;
  linkname = yield (_fs || _load_fs()).readlink(loc);
} else {
  throw new Error();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.readJson" id="apidoc.element.yarnpkg.fs.readJson">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readJson
        <span class="apidocSignatureSpan">(_x8)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function readJson(_x8) {
  return _ref5.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   * Read package metadata and normalized package info.
   */

  readPackageMetadata(dir) {
    var _this2 = this;

    return this.getCache(`metadata-${ dir }`, (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
const metadata = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">readJson</span>(path.join(dir, (_constants || _load_constants
()).METADATA_FILENAME));
const pkg = yield _this2.readManifest(dir, metadata.registry);

return {
  package: pkg,
  hash: metadata.hash,
  remote: metadata.remote,
  registry: metadata.registry
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.readdir" id="apidoc.element.yarnpkg.fs.readdir">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readdir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readdir = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      _this._init(opts);

      yield (_fs || _load_fs()).mkdirp(_this.globalFolder);
      yield (_fs || _load_fs()).mkdirp(_this.packagesRoot);
      yield (_fs || _load_fs()).mkdirp(_this.tempFolder);

      yield (_fs || _load_fs()).mkdirp(_this.linkFolder);
      _this.linkedModules = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">readdir</span>(_this.linkFolder);

      for (const key of Object.keys((_index2 || _load_index2()).registries)) {
const Registry = (_index2 || _load_index2()).registries[key];

// instantiate registry
const registry = new Registry(_this.cwd, _this.registries, _this.requestManager);
yield registry.init();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.readlink" id="apidoc.element.yarnpkg.fs.readlink">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>readlink
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">readlink = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (stat.isDirectory()) {
  type = &#x27;directory&#x27;;
} else if (stat.isFile()) {
  buffer = yield (_fs || _load_fs()).readFileRaw(loc);
  type = &#x27;file&#x27;;
} else if (stat.isSymbolicLink()) {
  type = &#x27;symlink&#x27;;
  linkname = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">readlink</span>(loc);
} else {
  throw new Error();
}

const entry = {
  name: `package/${ name }`,
  size: stat.size,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.realpath" id="apidoc.element.yarnpkg.fs.realpath">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>realpath
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">realpath = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    this.resolver = resolver;
    this.reporter = config.reporter;
    this.config = config;
  }

  linkSelfDependencies(pkg, pkgLoc, targetBinLoc) {
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      targetBinLoc = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">realpath</span>(targetBinLoc);
      pkgLoc = yield (_fs || _load_fs()).realpath(pkgLoc);
      for (const _ref2 of (0, (_misc || _load_misc()).entries)(pkg.bin)) {
var _ref3 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref2, 2);

const scriptName = _ref3[0];
const scriptCmd = _ref3[1];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.rename" id="apidoc.element.yarnpkg.fs.rename">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>rename
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">rename = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.stat" id="apidoc.element.yarnpkg.fs.stat">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>stat
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stat = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};
})();

let getPackageSize = (() =&#x3e; {
var _ref2 = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (info) {
  const files = yield (_fs || _load_fs()).walk(info.loc, null, new Set([(_constants || _load_constants()).METADATA_FILENAME, (_constants
 || _load_constants()).TARBALL_FILENAME]));
  const sizes = yield Promise.all(files.map(function (walkFile) {
    return (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">stat</span>(walkFile.absolute).then(function (stat) {
      return stat.size;
    });
  }));
  return sum(sizes);
});

return function getPackageSize(_x3) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.symlink" id="apidoc.element.yarnpkg.fs.symlink">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>symlink
        <span class="apidocSignatureSpan">(_x11, _x12)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function symlink(_x11, _x12) {
  return _ref7.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

let linkBin = exports.linkBin = (() =&#x3e; {
var _ref = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (src, dest) {
  if (process.platform === &#x27;win32&#x27;) {
    yield cmdShim(src, dest);
  } else {
    yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">symlink</span>(src, dest);
    yield (_fs || _load_fs()).chmod(dest, &#x27;755&#x27;);
  }
});

return function linkBin(_x, _x2) {
  return _ref.apply(this, arguments);
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.unlink" id="apidoc.element.yarnpkg.fs.unlink">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>unlink
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unlink = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const fetcher = new Fetcher(dest, remote, _this2.config);

if (yield _this2.config.isValidModuleDest(dest)) {
  return _this2.fetchCache(dest, fetcher);
}

// remove as the module may be invalid
yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">unlink</span>(dest);

try {
  return yield fetcher.fetch();
} catch (err) {
  try {
    yield (_fs || _load_fs()).unlink(dest);
  } catch (err2) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.walk" id="apidoc.element.yarnpkg.fs.walk">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>walk
        <span class="apidocSignatureSpan">(_x14, _x15)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function walk(_x14, _x15) {
  return _ref8.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
}

walk(loc) {
  var _this = this;

  return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
    const files = yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">walk</span>(loc, null, new (_set || _load_set()).
default(_this.config.registryFolders));
    const mtimes = new (_map || _load_map()).default();
    for (const file of files) {
      mtimes.set(file.relative, file.mtime);
    }
    return mtimes;
  })();
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.fs.writeFile" id="apidoc.element.yarnpkg.fs.writeFile">
        function <span class="apidocSignatureSpan">yarnpkg.fs.</span>writeFile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeFile = function () {
  for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
    args[_key] = arguments[_key];
  }

  return new (_promise || _load_promise()).default(function (resolve, reject) {
    args.push(function (err) {
      for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
        result[_key2 - 1] = arguments[_key2];
      }

      let res = result;

      if (result.length &#x3c;= 1) {
        res = result[0];
      }

      if (firstData) {
        res = err;
        err = null;
      }

      if (err) {
        reject(err);
      } else {
        resolve(res);
      }
    });

    fn.apply(null, args);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            spinner.tick(`Cached build artifact ${ file }`);
          }
        });
      }
      yield (_fs || _load_fs()).copyBulk(copyRequests, {
        possibleExtraneous: false
      });
      yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">writeFile</span>(cachedMetadataLoc, cachedMetadata);
    }

    return res;
  })();
}

install(cmds, pkg, spinner) {
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.generate_lock_entry" id="apidoc.module.yarnpkg.generate_lock_entry">module yarnpkg.generate_lock_entry</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.generate_lock_entry.hasWrapper" id="apidoc.element.yarnpkg.generate_lock_entry.hasWrapper">
        function <span class="apidocSignatureSpan">yarnpkg.generate_lock_entry.</span>hasWrapper
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hasWrapper() {
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
const config = new (_config || _load_config()).default(reporter);

// print header
let outputWrapper = true;
if (typeof command.hasWrapper === &#x27;function&#x27;) {
  outputWrapper = command.<span class="apidocCodeKeywordSpan">hasWrapper</span>(commander, commander.args);
}
if (outputWrapper) {
  reporter.header(commandName, {
    name: &#x27;yarn&#x27;,
    version: pkg.version
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.generate_lock_entry.run" id="apidoc.element.yarnpkg.generate_lock_entry.run">
        function <span class="apidocSignatureSpan">yarnpkg.generate_lock_entry.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.generate_lock_entry.setFlags" id="apidoc.element.yarnpkg.generate_lock_entry.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.generate_lock_entry.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.option(&#x27;--use-manifest &#x3c;location&#x3e;&#x27;, &#x27;description&#x27;);
  commander.option(&#x27;--resolved &#x3c;resolved&#x3e;&#x27;, &#x27;description&#x27;);
  commander.option(&#x27;--registry &#x3c;registry&#x3e;&#x27;, &#x27;description&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.gist_resolver" id="apidoc.module.yarnpkg.gist_resolver">module yarnpkg.gist_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.gist_resolver.default" id="apidoc.element.yarnpkg.gist_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.gist_resolver.</span>default
        <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class GistResolver extends (_exoticResolver || _load_exoticResolver()).default {

  constructor(request, fragment) {
    super(request, fragment);

    var _explodeGistFragment = explodeGistFragment(fragment, this.reporter);

    const id = _explodeGistFragment.id;
    const hash = _explodeGistFragment.hash;

    this.id = id;
    this.hash = hash;
  }

  resolve() {
    return this.fork((_gitResolver || _load_gitResolver()).default, false, `https://gist.github.com/${ this.id }.git#${ this.hash
 }`);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.github_resolver" id="apidoc.module.yarnpkg.github_resolver">module yarnpkg.github_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.github_resolver.default" id="apidoc.element.yarnpkg.github_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.github_resolver.</span>default
        <span class="apidocSignatureSpan">(_hostedGitResolver || _load_hostedGitResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class GitHubResolver extends (_hostedGitResolver || _load_hostedGitResolver()).default {

  static isVersion(pattern) {
    // github proto
    if (pattern.startsWith(&#x27;github:&#x27;)) {
      return true;
    }

    // github shorthand
    if (/^[^:@%/\s.-][^:@%/\s]*[/][^:@\s/%]+(?:#.*)?$/.test(pattern)) {
      return true;
    }

    return false;
  }

  static getTarballUrl(parts, hash) {
    return `https://codeload.github.com/${ parts.user }/${ parts.repo }/tar.gz/${ hash }`;
  }

  static getGitSSHUrl(parts) {
    return `git@github.com:${ parts.user }/${ parts.repo }.git`;
  }

  static getGitHTTPUrl(parts) {
    return `https://github.com/${ parts.user }/${ parts.repo }.git`;
  }

  static getHTTPFileUrl(parts, filename, commit) {
    return `https://raw.githubusercontent.com/${ parts.user }/${ parts.repo }/${ commit }/${ filename }`;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.gitlab_resolver" id="apidoc.module.yarnpkg.gitlab_resolver">module yarnpkg.gitlab_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.gitlab_resolver.default" id="apidoc.element.yarnpkg.gitlab_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.gitlab_resolver.</span>default
        <span class="apidocSignatureSpan">(_hostedGitResolver || _load_hostedGitResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class GitLabResolver extends (_hostedGitResolver || _load_hostedGitResolver()).default {

  static getTarballUrl(parts, hash) {
    return `https://gitlab.com/${ parts.user }/${ parts.repo }/repository/archive.tar.gz?ref=${ hash }`;
  }

  static getGitHTTPUrl(parts) {
    return `https://gitlab.com/${ parts.user }/${ parts.repo }.git`;
  }

  static getGitSSHUrl(parts) {
    return `git@gitlab.com:${ parts.user }/${ parts.repo }.git`;
  }

  static getHTTPFileUrl(parts, filename, commit) {
    return `https://gitlab.com/${ parts.user }/${ parts.repo }/raw/${ commit }/${ filename }`;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.global" id="apidoc.module.yarnpkg.global">module yarnpkg.global</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.global.hasWrapper" id="apidoc.element.yarnpkg.global.hasWrapper">
        function <span class="apidocSignatureSpan">yarnpkg.global.</span>hasWrapper
        <span class="apidocSignatureSpan">(flags, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hasWrapper(flags, args) {
  return args[0] !== &#x27;bin&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
const config = new (_config || _load_config()).default(reporter);

// print header
let outputWrapper = true;
if (typeof command.hasWrapper === &#x27;function&#x27;) {
  outputWrapper = command.<span class="apidocCodeKeywordSpan">hasWrapper</span>(commander, commander.args);
}
if (outputWrapper) {
  reporter.header(commandName, {
    name: &#x27;yarn&#x27;,
    version: pkg.version
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.global.run" id="apidoc.element.yarnpkg.global.run">
        function <span class="apidocSignatureSpan">yarnpkg.global.</span>run
        <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.global.setFlags" id="apidoc.element.yarnpkg.global.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.global.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(`${ rootCommandName } [${ subCommandNames.join(&#x27;|&#x27;) }] [flags]`);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.index" id="apidoc.module.yarnpkg.index">module yarnpkg.index</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.index.base" id="apidoc.element.yarnpkg.index.base">
        function <span class="apidocSignatureSpan">yarnpkg.index.</span>base
        <span class="apidocSignatureSpan">(dest, remote, config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class BaseFetcher {
  constructor(dest, remote, config) {
    this.reference = remote.reference;
    this.registry = remote.registry;
    this.hash = remote.hash;
    this.remote = remote;
    this.config = config;
    this.dest = dest;
  }

  getResolvedFromCached(hash) {
    // fetcher subclasses may use this to perform actions such as copying over a cached tarbal to the offline
    // mirror etc
    return Promise.resolve();
  }

  _fetch() {
    return Promise.reject(new Error(&#x27;Not implemented&#x27;));
  }

  fetch() {
    var _this = this;

    const dest = this.dest;


    return (_fs || _load_fs()).lockQueue.push(dest, (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      yield (_fs || _load_fs()).mkdirp(dest);

      // fetch package and get the hash

      var _ref2 = yield _this._fetch();

      const hash = _ref2.hash;
      const resolved = _ref2.resolved;

      // load the new normalized manifest

      const pkg = yield _this.config.readManifest(dest, _this.registry);

      yield (_fs || _load_fs()).writeFile(path.join(dest, (_constants || _load_constants()).METADATA_FILENAME), JSON.stringify({
        remote: _this.remote,
        registry: _this.registry,
        hash
      }, null, &#x27;  &#x27;));

      return {
        resolved,
        hash,
        dest,
        package: pkg
      };
    }));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.index.copy" id="apidoc.element.yarnpkg.index.copy">
        function <span class="apidocSignatureSpan">yarnpkg.index.</span>copy
        <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class CopyFetcher extends (_baseFetcher || _load_baseFetcher()).default {
  _fetch() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      yield (_fs || _load_fs()).copy(_this.reference, _this.dest);
      return {
        hash: _this.hash || &#x27;&#x27;,
        resolved: null
      };
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function _interopRequireDefault(obj) { return obj &#x26;&#x26; obj.__esModule ? obj : { default: obj }; }

class CopyFetcher extends (_baseFetcher || _load_baseFetcher()).default {
  _fetch() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      yield (_fs || _load_fs()).<span class="apidocCodeKeywordSpan">copy</span>(_this.reference, _this.dest);
      return {
        hash: _this.hash || &#x27;&#x27;,
        resolved: null
      };
    })();
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.index.git" id="apidoc.element.yarnpkg.index.git">
        function <span class="apidocSignatureSpan">yarnpkg.index.</span>git
        <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class GitFetcher extends (_baseFetcher || _load_baseFetcher()).default {
  _fetch() {
    var _url$parse = url.parse(this.reference);

    const protocol = _url$parse.protocol;
    const pathname = _url$parse.pathname;

    if (protocol === null &#x26;&#x26; typeof pathname === &#x27;string&#x27;) {
      return this.fetchFromLocal(pathname);
    } else {
      return this.fetchFromExternal();
    }
  }

  fetchFromLocal(pathname) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const ref = _this.reference;
      const config = _this.config;

      const offlineMirrorPath = config.getOfflineMirrorPath() || &#x27;&#x27;;
      const localTarball = path.resolve(offlineMirrorPath, ref);
      if (!(yield (_fs || _load_fs()).exists(localTarball))) {
        throw new (_errors || _load_errors()).MessageError(`${ ref }: Tarball is not in network and can not be located in cache (${
localTarball })`);
      }

      return new Promise(function (resolve, reject) {
        const untarStream = tar.Extract({ path: _this.dest });

        const hashStream = new (_crypto || _load_crypto()).HashStream();

        const cachedStream = fs.createReadStream(localTarball);
        cachedStream.pipe(hashStream).pipe(untarStream).on(&#x27;end&#x27;, function () {
          const expectHash = _this.hash;
          const actualHash = hashStream.getHash();
          if (!expectHash || expectHash === actualHash) {
            resolve({
              hash: actualHash,
              resolved: `${ pathname }#${ actualHash }`
            });
          } else {
            reject(new (_errors || _load_errors()).SecurityError(`Bad hash. Expected ${ expectHash } but got ${ actualHash } `));
          }
        }).on(&#x27;error&#x27;, function (err) {
          let msg = `${ err.message }. `;
          msg += `Mirror tarball appears to be corrupt. You can resolve this by running:\n\n` + `  $ rm -rf ${ localTarball }\n` + &#x27;  $
yarn install&#x27;;
          reject(new (_errors || _load_errors()).MessageError(msg));
        });
      });
    })();
  }

  fetchFromExternal() {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const hash = _this2.hash;
      invariant(hash, &#x27;Commit hash required&#x27;);

      const git = new (_git || _load_git()).default(_this2.config, _this2.reference, hash);
      yield git.initRemote();
      yield git.clone(_this2.dest);

      let tarballInMirrorPath = _this2.config.getOfflineMirrorPath(_this2.reference);
      const mirrorRootPath = _this2.config.getOfflineMirrorPath();
      if (tarballInMirrorPath &#x26;&#x26; _this2.hash &#x26;&#x26; mirrorRootPath) {
        tarballInMirrorPath = `${ tarballInMirrorPath }-${ _this2.hash }`;
        const hash = yield git.achive(tarballInMirrorPath);
        const relativeMirrorPath = path.relative(mirrorRootPath, tarballInMirrorPath);
        return {
          hash,
          resolved: relativeMirrorPath ? `${ relativeMirrorPath }#${ hash }` : null
        };
      }

      return {
        hash,
        resolved: null
      };
    })();
  }

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.index.tarball" id="apidoc.element.yarnpkg.index.tarball">
        function <span class="apidocSignatureSpan">yarnpkg.index.</span>tarball
        <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class TarballFetcher extends (_baseFetcher || _load_baseFetcher()).default {
  getResolvedFromCached(hash) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const mirrorPath = _this.getMirrorPath();
      if (mirrorPath == null) {
        // no mirror
        return null;
      }

      const tarballLoc = path.join(_this.dest, (_constants || _load_constants()).TARBALL_FILENAME);
      if (!(yield (_fs || _load_fs()).exists(tarballLoc))) {
        // no tarball located in the cache
        return null;
      }

      // copy the file over
      if (!(yield (_fs || _load_fs()).exists(mirrorPath))) {
        yield (_fs || _load_fs()).copy(tarballLoc, mirrorPath);
      }

      const relativeMirrorPath = _this.getRelativeMirrorPath(mirrorPath);
      invariant(relativeMirrorPath != null, &#x27;Missing offline mirror path&#x27;);

      return `${ relativeMirrorPath }#${ hash }`;
    })();
  }

  getMirrorPath() {
    return this.config.getOfflineMirrorPath(this.reference);
  }

  getRelativeMirrorPath(mirrorPath) {
    const offlineMirrorPath = this.config.getOfflineMirrorPath();
    if (offlineMirrorPath == null) {
      return null;
    }
    return path.relative(offlineMirrorPath, mirrorPath);
  }

  createExtractor(mirrorPath, resolve, reject) {
    const validateStream = new (_crypto || _load_crypto()).HashStream();
    const extractorStream = new (_stream || _load_stream()).UnpackStream();
    const untarStream = tar.Extract({ path: this.dest, strip: 1 });

    extractorStream.pipe(untarStream).on(&#x27;error&#x27;, reject).on(&#x27;end&#x27;, () =&#x3e; {
      const expectHash = this.hash;
      const actualHash = validateStream.getHash();
      if (!expectHash || expectHash === actualHash) {
        resolve({
          hash: actualHash,
          resolved: mirrorPath ? `${ mirrorPath }#${ actualHash }` : null
        });
      } else {
        reject(new (_errors || _load_errors()).SecurityError(`Bad hash. Expected ${ expectHash } but got ${ actualHash } `));
      }
    });

    return { validateStream, extractorStream };
  }

  fetchFromLocal(pathname) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const ref = _this2.reference;
      const config = _this2.config;

      // path to the local tarball

      let localTarball;
      let isOfflineTarball = false;

      const relativeFileLoc = pathname ? path.join(config.cwd, pathname) : null;
      if (relativeFileLoc &#x26;&#x26; (yield (_fs || _load_fs()).exists(relativeFileLoc))) {
        // this is a reference to a file relative to the cwd
        localTarball = relativeFileLoc;
      } else {
        // generate a offline cache location
        const offlineMirrorPath = config.getOfflineMirrorPath() || &#x27;&#x27;;
        localTarball = path.resolve(offlineMirrorPath, ref);
        isOfflineTarball = true;
      }

      if (!(yield (_fs || _load_fs()).exists(localTarball))) {
        throw new (_errors || _load_errors()).MessageError(`${ ref }: Tarball is not in network and can&#x27;t be located in cache (${
localTarball })`);
      }

      return new Promise(function (resolve, reject) {
        var _createExtractor = _this2.createExtractor(null, resolve, reject);

        const validateStream = _createExtractor.validateStream;
        const extractorStream = _createExtractor.extractorStream;


        const cachedStream = fs.createReadStream(localTarball);

        cachedStream.pipe(validateStream).pipe(extractorStream).on(&#x27;error&#x27;, function (err) {
          let msg = `${ err.message }. `;
          if (isOfflineTarball) {
            msg += `Mirror tarball appears to be corrupt. You can resolve this by running:\n\n` + `  $ rm -rf ${ localTarball }\
n` + &#x27;  $ yarn install&#x27;;
          } else {
            msg += `Error decompressing ${ localTarball }, it appears to be corrupt.`;
          }
          reject(new (_errors || _load_errors()).MessageError(msg));
        });
      });
    })();
  }

  fetchFromExternal() {
    const ref = this.reference;


    return this.config.r ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.infer_license" id="apidoc.module.yarnpkg.infer_license">module yarnpkg.infer_license</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.infer_license.default" id="apidoc.element.yarnpkg.infer_license.default">
        function <span class="apidocSignatureSpan">yarnpkg.infer_license.</span>default
        <span class="apidocSignatureSpan">(license)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function inferLicense(license) {
  // check if we have any explicit licenses
  const cleanLicense = clean(license);
  for (const licenseName in (_licenses || _load_licenses()).default) {
    const testLicense = (_licenses || _load_licenses()).default[licenseName];
    if (cleanLicense.search(testLicense) &#x3e;= 0) {
      return licenseName;
    }
  }

  // infer based on some keywords
  for (const licenseName in REGEXES) {
    for (const regex of REGEXES[licenseName]) {
      if (license.search(regex) &#x3e;= 0) {
        return `${ licenseName }*`;
      }
    }
  }

  return null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.info" id="apidoc.module.yarnpkg.info">module yarnpkg.info</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.info.run" id="apidoc.element.yarnpkg.info.run">
        function <span class="apidocSignatureSpan">yarnpkg.info.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.init" id="apidoc.module.yarnpkg.init">module yarnpkg.init</a></h1>




    <h2>
        <a href="#apidoc.element.yarnpkg.init.run" id="apidoc.element.yarnpkg.init.run">
        function <span class="apidocSignatureSpan">yarnpkg.init.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.install" id="apidoc.module.yarnpkg.install">module yarnpkg.install</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.install.Install" id="apidoc.element.yarnpkg.install.Install">
        function <span class="apidocSignatureSpan">yarnpkg.install.</span>Install
        <span class="apidocSignatureSpan">(flags, config, reporter, lockfile)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Install {
  constructor(flags, config, reporter, lockfile) {
    this.rootManifestRegistries = [];
    this.rootPatternsToOrigin = (0, (_map || _load_map()).default)();
    this.resolutions = (0, (_map || _load_map()).default)();
    this.lockfile = lockfile;
    this.reporter = reporter;
    this.config = config;
    this.flags = normalizeFlags(config, flags);

    this.resolver = new (_packageResolver || _load_packageResolver()).default(config, lockfile);
    this.fetcher = new (_packageFetcher || _load_packageFetcher()).default(config, this.resolver);
    this.compatibility = new (_packageCompatibility || _load_packageCompatibility()).default(config, this.resolver);
    this.linker = new (_packageLinker || _load_packageLinker()).default(config, this.resolver, this.flags.ignoreOptional);
    this.scripts = new (_packageInstallScripts || _load_packageInstallScripts()).default(config, this.resolver, this.flags.force
);
  }

<span class="apidocCodeCommentSpan">  /**
   * Create a list of dependency requests from the current directories manifests.
   */
</span>
  fetchRequestFromCwd() {
    var _this = this;

    let excludePatterns = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : [];
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const patterns = [];
      const deps = [];
      const manifest = {};

      // exclude package names that are in install args
      const excludeNames = [];
      for (const pattern of excludePatterns) {
        // can&#x27;t extract a package name from this
        if ((_packageRequest || _load_packageRequest()).default.getExoticResolver(pattern)) {
          continue;
        }

        // extract the name
        const parts = (_packageRequest || _load_packageRequest()).default.normalizePattern(pattern);
        excludeNames.push(parts.name);
      }

      for (const registry of Object.keys((_index2 || _load_index2()).registries)) {
        const filename = (_index2 || _load_index2()).registries[registry].filename;

        const loc = path.join(_this.config.cwd, filename);
        if (!(yield (_fs || _load_fs()).exists(loc))) {
          continue;
        }

        _this.rootManifestRegistries.push(registry);
        const json = yield (_fs || _load_fs()).readJson(loc);
        yield (0, (_index || _load_index()).default)(json, _this.config.cwd, _this.config, true);

        Object.assign(_this.resolutions, json.resolutions);
        Object.assign(manifest, json);

        const pushDeps = function (depType, _ref) {
          let hint = _ref.hint;
          let visibility = _ref.visibility;
          let optional = _ref.optional;

          const depMap = json[depType];
          for (const name in depMap) {
            if (excludeNames.indexOf(name) &#x3e;= 0) {
              continue;
            }

            let pattern = name;
            if (!_this.lockfile.getLocked(pattern, true)) {
              // when we use --save we save the dependency to the lockfile with just the name rather than the
              // version combo
              pattern += &#x27;@&#x27; + depMap[name];
            }

            _this.rootPatternsToOrigin[pattern] = depType;
            patterns.push(pattern);
            deps.push({ pattern, registry, visibility, hint, optional });
          }
        };

        pushDeps(&#x27;dependencies&#x27;, { hint: null, visibility: (_packageReference || _load_packageReference()).USED, optional: false
 });

        const devVisibility = _this.flags.production ? (_packageReference || _load_packageReference()).ENVIRONMENT_IGNORE : (_packageReference
 || _load_packageReference()).USED;
        pushDeps(&#x27;devDependencies&#x27;, { hint: &#x27;dev&#x27;, visibility: devVisibility, optional: false });

        pushDeps(&#x27;optionalDependencies&#x27;, { hint: &#x27;optional&#x27;, visibility: (_packageReference || _load_packageReference()).USED, optional
: true });

        break;
      }

      // inherit root flat flag
      if (manifest.flat) {
        _this.flags.flat = true;
      }

      return [deps, patterns, manifest];
    })();
  }

  /**
   * TODO description
   */

  prepare(patterns, requests ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function _load_asyncToGenerator() {
  return _asyncToGenerator2 = _interopRequireDefault(require(&#x27;babel-runtime/helpers/asyncToGenerator&#x27;));
}

let run = exports.run = (() =&#x3e; {
  var _ref = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (config, reporter, flags, args) {
const lockfile = yield (_wrapper || _load_wrapper()).default.fromDirectory(config.cwd);
const install = new (_install || _load_install()).<span class="apidocCodeKeywordSpan">Install</span>(flags, config, reporter, lockfile
);

function humaniseLocation(loc) {
  const relative = path.relative(path.join(config.cwd, &#x27;node_modules&#x27;), loc);
  const normalized = path.normalize(relative).split(path.sep);
  return normalized.filter(p =&#x3e; p !== &#x27;node_modules&#x27;);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.install._setFlags" id="apidoc.element.yarnpkg.install._setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.install.</span>_setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function _setFlags(commander) {
  commander.option(&#x27;--har&#x27;, &#x27;save HAR output of network traffic&#x27;);
  commander.option(&#x27;--ignore-engines&#x27;, &#x27;ignore engines check&#x27;);
  commander.option(&#x27;--ignore-scripts&#x27;, &#x27;&#x27;);
  commander.option(&#x27;--ignore-optional&#x27;, &#x27;&#x27;);
  commander.option(&#x27;--force&#x27;, &#x27;&#x27;);
  commander.option(&#x27;--flat&#x27;, &#x27;only allow one version of a package&#x27;);
  commander.option(&#x27;--prod, --production&#x27;, &#x27;&#x27;);
  commander.option(&#x27;--no-lockfile&#x27;, &#x22;don&#x27;t read or generate a lockfile&#x22;);
  commander.option(&#x27;--pure-lockfile&#x27;, &#x22;don&#x27;t generate a lockfile&#x22;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.install.run" id="apidoc.element.yarnpkg.install.run">
        function <span class="apidocSignatureSpan">yarnpkg.install.</span>run
        <span class="apidocSignatureSpan">(_x14, _x15, _x16, _x17)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x14, _x15, _x16, _x17) {
  return _ref10.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.install.setFlags" id="apidoc.element.yarnpkg.install.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.install.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(&#x27;install [flags]&#x27;);
  _setFlags(commander);

  commander.option(&#x27;-g, --global&#x27;, &#x27;DEPRECATED&#x27;);
  commander.option(&#x27;-S, --save&#x27;, &#x27;DEPRECATED - save package to your `dependencies`&#x27;);
  commander.option(&#x27;-D, --save-dev&#x27;, &#x27;DEPRECATED - save package to your `devDependencies`&#x27;);
  commander.option(&#x27;-P, --save-peer&#x27;, &#x27;DEPRECATED - save package to your `peerDependencies`&#x27;);
  commander.option(&#x27;-O, --save-optional&#x27;, &#x27;DEPRECATED - save package to your `optionalDependencies`&#x27;);
  commander.option(&#x27;-E, --save-exact&#x27;, &#x27;DEPRECATED&#x27;);
  commander.option(&#x27;-T, --save-tilde&#x27;, &#x27;DEPRECATED&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.json_reporter" id="apidoc.module.yarnpkg.json_reporter">module yarnpkg.json_reporter</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.json_reporter.default" id="apidoc.element.yarnpkg.json_reporter.default">
        function <span class="apidocSignatureSpan">yarnpkg.json_reporter.</span>default
        <span class="apidocSignatureSpan">(_baseReporter || _load_baseReporter()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class JSONReporter extends (_baseReporter || _load_baseReporter()).default {
  constructor(opts) {
    super(opts);

    this._activityId = 0;
    this._progressId = 0;
  }

  _dump(type, data, error) {
    let stdout = this.stdout;
    if (error) {
      stdout = this.stderr;
    }
    stdout.write(`${ (0, (_stringify || _load_stringify()).default)({ type: type, data: data }) }\n`);
  }

  list(type, items) {
    this._dump(&#x27;list&#x27;, { type: type, items: items });
  }

  tree(type, trees) {
    this._dump(&#x27;tree&#x27;, { type: type, trees: trees });
  }

  step(current, total, message) {
    this._dump(&#x27;step&#x27;, { message: message, current: current, total: total });
  }

  inspect(value) {
    this._dump(&#x27;inspect&#x27;, value);
  }

  footer() {
    this._dump(&#x27;finished&#x27;, this.getTotalTime());
  }

  log(msg) {
    this._dump(&#x27;log&#x27;, msg);
  }

  command(msg) {
    this._dump(&#x27;command&#x27;, msg);
  }

  table(head, body) {
    this._dump(&#x27;table&#x27;, { head: head, body: body });
  }

  success(msg) {
    this._dump(&#x27;success&#x27;, msg);
  }

  error(msg) {
    this._dump(&#x27;error&#x27;, msg, true);
  }

  warn(msg) {
    this._dump(&#x27;warning&#x27;, msg, true);
  }

  info(msg) {
    this._dump(&#x27;info&#x27;, msg);
  }

  activitySet(total, workers) {
    const id = this._activityId++;
    this._dump(&#x27;activitySetStart&#x27;, { id: id, total: total, workers: workers });

    const spinners = [];
    for (let i = 0; i &#x3c; workers; i++) {
      let current = 0;
      let header = &#x27;&#x27;;

      spinners.push({
        clear: function clear() {},
        setPrefix: function setPrefix(_current, _header) {
          current = _current;
          header = _header;
        },

        tick: msg =&#x3e; {
          this._dump(&#x27;activitySetTick&#x27;, { id: id, header: header, current: current, worker: i, message: msg });
        },
        end: function end() {}
      });
    }

    return {
      spinners: spinners,
      end: () =&#x3e; {
        this._dump(&#x27;activitySetEnd&#x27;, { id: id });
      }
    };
  }

  activity() {
    return this._activity({});
  }

  _activity(data) {
    const id = this._activityId++;
    this._dump(&#x27;activityStart&#x27;, (0, (_extends2 || _load_extends()).default)({ id: id }, data));

    return {
      tick: name =&#x3e; {
        this._dump(&#x27;activityTick&#x27;, { id: id, name: name });
      },

      end: () =&#x3e; {
        this._dump(&#x27;activityEnd&#x27;, { id: id });
      }
    };
  }

  progress(total) {
    const id = this._progressId++;
    let current = 0;
    this._dump(&#x27;progressStart&#x27;, { id: id, total: total });

    return () =&#x3e; {
      current++;
      this._dump(&#x27;progressTick&#x27;, { id: id, current: current });

      if (current === total) {
        this._dump(&#x27;progressFinish&#x27;, { id: id });
      }
    };
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.licenses" id="apidoc.module.yarnpkg.licenses">module yarnpkg.licenses</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.licenses.hasWrapper" id="apidoc.element.yarnpkg.licenses.hasWrapper">
        function <span class="apidocSignatureSpan">yarnpkg.licenses.</span>hasWrapper
        <span class="apidocSignatureSpan">(flags, args)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hasWrapper(flags, args) {
  return args[0] != &#x27;generate-disclaimer&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
const config = new (_config || _load_config()).default(reporter);

// print header
let outputWrapper = true;
if (typeof command.hasWrapper === &#x27;function&#x27;) {
  outputWrapper = command.<span class="apidocCodeKeywordSpan">hasWrapper</span>(commander, commander.args);
}
if (outputWrapper) {
  reporter.header(commandName, {
    name: &#x27;yarn&#x27;,
    version: pkg.version
  });
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.licenses.run" id="apidoc.element.yarnpkg.licenses.run">
        function <span class="apidocSignatureSpan">yarnpkg.licenses.</span>run
        <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.licenses.setFlags" id="apidoc.element.yarnpkg.licenses.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.licenses.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  setUsage(commander);
  commander.option(&#x27;--production&#x27;, &#x27;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.link" id="apidoc.module.yarnpkg.link">module yarnpkg.link</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.link.getRegistryFolder" id="apidoc.element.yarnpkg.link.getRegistryFolder">
        function <span class="apidocSignatureSpan">yarnpkg.link.</span>getRegistryFolder
        <span class="apidocSignatureSpan">(_x, _x2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getRegistryFolder(_x, _x2) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.link.run" id="apidoc.element.yarnpkg.link.run">
        function <span class="apidocSignatureSpan">yarnpkg.link.</span>run
        <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x3, _x4, _x5, _x6) {
  return _ref3.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.login" id="apidoc.module.yarnpkg.login">module yarnpkg.login</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.login.getToken" id="apidoc.element.yarnpkg.login.getToken">
        function <span class="apidocSignatureSpan">yarnpkg.login.</span>getToken
        <span class="apidocSignatureSpan">(_x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getToken(_x3, _x4) {
  return _ref2.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.login.run" id="apidoc.element.yarnpkg.login.run">
        function <span class="apidocSignatureSpan">yarnpkg.login.</span>run
        <span class="apidocSignatureSpan">(_x5, _x6, _x7, _x8)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x5, _x6, _x7, _x8) {
  return _ref4.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.logout" id="apidoc.module.yarnpkg.logout">module yarnpkg.logout</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.logout.run" id="apidoc.element.yarnpkg.logout.run">
        function <span class="apidocSignatureSpan">yarnpkg.logout.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.ls" id="apidoc.module.yarnpkg.ls">module yarnpkg.ls</a></h1>






    <h2>
        <a href="#apidoc.element.yarnpkg.ls.buildTree" id="apidoc.element.yarnpkg.ls.buildTree">
        function <span class="apidocSignatureSpan">yarnpkg.ls.</span>buildTree
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function buildTree(_x, _x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.ls.run" id="apidoc.element.yarnpkg.ls.run">
        function <span class="apidocSignatureSpan">yarnpkg.ls.</span>run
        <span class="apidocSignatureSpan">(_x6, _x7, _x8, _x9)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x6, _x7, _x8, _x9) {
  return _ref8.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.map" id="apidoc.module.yarnpkg.map">module yarnpkg.map</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.map.default" id="apidoc.element.yarnpkg.map.default">
        function <span class="apidocSignatureSpan">yarnpkg.map.</span>default
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function nullify() {
  let obj = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : {};

  if (Array.isArray(obj)) {
    for (const item of obj) {
      nullify(item);
    }
  } else if (obj !== null &#x26;&#x26; typeof obj === &#x27;object&#x27; || typeof obj === &#x27;function&#x27;) {
    (0, (_setPrototypeOf || _load_setPrototypeOf()).default)(obj, null);
    for (const key in obj) {
      nullify(obj[key]);
    }
  }

  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.misc" id="apidoc.module.yarnpkg.misc">module yarnpkg.misc</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.misc.entries" id="apidoc.element.yarnpkg.misc.entries">
        function <span class="apidocSignatureSpan">yarnpkg.misc.</span>entries
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function entries(obj) {
  const entries = [];
  if (obj) {
    for (const key in obj) {
      entries.push([key, obj[key]]);
    }
  }
  return entries;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   * Produce a flattened list of module locations and manifests.
   */

  init() {
    const flatTree = [];

    //
    for (const _ref7 of this.tree.<span class="apidocCodeKeywordSpan">entries</span>()) {
var _ref8 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref7, 2);

const key = _ref8[0];
const info = _ref8[1];

// decompress the location and push it to the flat tree. this path could be made
// up of modules from different registries so we need to handle this specially
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.misc.hash" id="apidoc.element.yarnpkg.misc.hash">
        function <span class="apidocSignatureSpan">yarnpkg.misc.</span>hash
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function hash(str) {
  return crypto.createHash(&#x27;sha256&#x27;).update(str).digest(&#x27;hex&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  const mirror = this.config.getOfflineMirrorPath();
  if (mirror != null) {
    opts.push(`mirror:${ mirror }`);
  }

  return (_misc || _load_misc()).<span class="apidocCodeKeywordSpan">hash</span>(opts.join(&#x27;-&#x27;));
}
}

exports.Install = Install;
function _setFlags(commander) {
commander.option(&#x27;--har&#x27;, &#x27;save HAR output of network traffic&#x27;);
commander.option(&#x27;--ignore-engines&#x27;, &#x27;ignore engines check&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.misc.removePrefix" id="apidoc.element.yarnpkg.misc.removePrefix">
        function <span class="apidocSignatureSpan">yarnpkg.misc.</span>removePrefix
        <span class="apidocSignatureSpan">(pattern, prefix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function removePrefix(pattern, prefix) {
  if (pattern.startsWith(prefix)) {
    pattern = pattern.slice(prefix.length);
  }

  return pattern;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

const invariant = require(&#x27;invariant&#x27;);
const path = require(&#x27;path&#x27;);

class FileResolver extends (_exoticResolver || _load_exoticResolver()).default {
  constructor(request, fragment) {
super(request, fragment);
this.loc = (_misc || _load_misc()).<span class="apidocCodeKeywordSpan">removePrefix</span>(fragment, &#x27;file:&#x27;);
  }

  resolve() {
var _this = this;

return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
  let loc = _this.loc;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.misc.removeSuffix" id="apidoc.element.yarnpkg.misc.removeSuffix">
        function <span class="apidocSignatureSpan">yarnpkg.misc.</span>removeSuffix
        <span class="apidocSignatureSpan">(pattern, suffix)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function removeSuffix(pattern, suffix) {
  if (pattern.endsWith(suffix)) {
    return pattern.slice(0, -suffix.length);
  }

  return pattern;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.misc.sortAlpha" id="apidoc.element.yarnpkg.misc.sortAlpha">
        function <span class="apidocSignatureSpan">yarnpkg.misc.</span>sortAlpha
        <span class="apidocSignatureSpan">(a, b)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sortAlpha(a, b) {
  // sort alphabetically
  return a.toLowerCase().localeCompare(b.toLowerCase());
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.misc.stringify" id="apidoc.element.yarnpkg.misc.stringify">
        function <span class="apidocSignatureSpan">yarnpkg.misc.</span>stringify
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stringify(obj) {
  return (0, (_stringify || _load_stringify()).default)(obj, null, &#x27;  &#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const hash = _ref2.hash;
const resolved = _ref2.resolved;

// load the new normalized manifest

const pkg = yield _this.config.readManifest(dest, _this.registry);

yield (_fs || _load_fs()).writeFile(path.join(dest, (_constants || _load_constants()).METADATA_FILENAME), JSON.<span class="apidocCodeKeywordSpan
">stringify</span>({
  remote: _this.remote,
  registry: _this.registry,
  hash
}, null, &#x27;  &#x27;));

return {
  resolved,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.network" id="apidoc.module.yarnpkg.network">module yarnpkg.network</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.network.isOffline" id="apidoc.element.yarnpkg.network.isOffline">
        function <span class="apidocSignatureSpan">yarnpkg.network.</span>isOffline
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isOffline() {
  const interfaces = os.networkInterfaces();

  for (const name in interfaces) {
    if (IGNORE_INTERFACES.indexOf(name) &#x3e;= 0) {
      continue;
    }

    const addrs = interfaces[name];
    for (const addr of addrs) {
      if (LOCAL_IPS.indexOf(addr.address) &#x3c; 0) {
        // found a possible local ip
        return false;
      }
    }
  }

  return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
if (commander.yes) {
reporter.warn(reporter.lang(&#x27;yesWarning&#x27;));
}

//
if (!commander.offline &#x26;&#x26; (_network || _load_network()).<span class="apidocCodeKeywordSpan">isOffline</span>()) {
reporter.warn(reporter.lang(&#x27;networkWarning&#x27;));
}

//
if (command.requireLockfile &#x26;&#x26; !fs.existsSync(path.join(config.cwd, (_constants || _load_constants()).LOCKFILE_FILENAME
))) {
reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
process.exit(1);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.npm_registry" id="apidoc.module.yarnpkg.npm_registry">module yarnpkg.npm_registry</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.npm_registry.default" id="apidoc.element.yarnpkg.npm_registry.default">
        function <span class="apidocSignatureSpan">yarnpkg.npm_registry.</span>default
        <span class="apidocSignatureSpan">(_baseRegistry || _load_baseRegistry()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class NpmRegistry extends (_baseRegistry || _load_baseRegistry()).default {
  constructor(cwd, registries, requestManager) {
    super(cwd, registries, requestManager);
    this.folder = &#x27;node_modules&#x27;;
  }

  static escapeName(name) {
    // scoped packages contain slashes and the npm registry expects them to be escaped
    return name.replace(&#x27;/&#x27;, &#x27;%2f&#x27;);
  }

  request(pathname) {
    let opts = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : {};

    const registry = (0, (_misc || _load_misc()).removeSuffix)(String(this.registries.yarn.getOption(&#x27;registry&#x27;)), &#x27;/&#x27;);

    const headers = {};
    if (this.token) {
      headers.authorization = `Bearer ${ this.token }`;
    }

    return this.requestManager.request({
      url: url.resolve(registry, pathname),
      method: opts.method,
      body: opts.body,
      auth: opts.auth,
      headers: headers,
      json: true
    });
  }

  checkOutdated(config, name, range) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const req = yield _this.request(name);
      if (!req) {
        throw new Error(&#x27;couldnt find &#x27; + name);
      }

      return {
        latest: req[&#x27;dist-tags&#x27;].latest,
        wanted: (yield (_npmResolver || _load_npmResolver()).default.findVersionInRegistryResponse(config, range, req)).version
      };
    })();
  }

  getPossibleConfigLocations(filename) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const possibles = [[false, path.join(getGlobalPrefix(), filename)], [true, path.join(userHome, filename)], [false, path.join
(_this2.cwd, filename)]];

      const foldersFromRootToCwd = _this2.cwd.split(path.sep);
      while (foldersFromRootToCwd.length &#x3e; 1) {
        possibles.push([false, path.join(foldersFromRootToCwd.join(path.sep), filename)]);
        foldersFromRootToCwd.pop();
      }

      const actuals = [];
      for (const _ref of possibles) {
        var _ref2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref, 2);

        const isHome = _ref2[0];
        const loc = _ref2[1];

        if (yield (_fs || _load_fs()).exists(loc)) {
          actuals.push([isHome, loc, yield (_fs || _load_fs()).readFile(loc)]);
        }
      }
      return actuals;
    })();
  }

  loadConfig() {
    var _this3 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      // docs: https://docs.npmjs.com/misc/config
      _this3.mergeEnv(&#x27;npm_config_&#x27;);

      for (const _ref3 of yield _this3.getPossibleConfigLocations(&#x27;.npmrc&#x27;)) {
        var _ref4 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref3, 3);

        const loc = _ref4[1];
        const file = _ref4[2];

        const config = ini.parse(file);

        // normalize offline mirror path relative to the current npmrc
        let offlineLoc = config[&#x27;yarn-offline-mirror&#x27;];
        // old kpm compatibility
        if (config[&#x27;kpm-offline-mirror&#x27;]) {
          offlineLoc = config[&#x27;kpm-offline-mirror&#x27;];
          delete config[&#x27;kpm-offline-mirror&#x27;];
        }
        // don&#x27;t normalize if we already have a mirror path
        if (!_this3.config[&#x27;yarn-offline-mirror&#x27;] &#x26;&#x26; offlineLoc) {
          const mirrorLoc = config[&#x27;yarn-offline-mirror&#x27;] = path.resolve(path.dirname(loc), offlineLoc);
          yield (_fs || _load_fs()).mkdirp(mirrorLoc);
        }

        defaults(_this3.config, config);
      }
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.npm_resolver" id="apidoc.module.yarnpkg.npm_resolver">module yarnpkg.npm_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.npm_resolver.default" id="apidoc.element.yarnpkg.npm_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.npm_resolver.</span>default
        <span class="apidocSignatureSpan">(_registryResolver || _load_registryResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class NpmResolver extends (_registryResolver || _load_registryResolver()).default {

  static findVersionInRegistryResponse(config, range, body) {
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      if (range in body[&#x27;dist-tags&#x27;]) {
        range = body[&#x27;dist-tags&#x27;][range];
      }

      const satisfied = yield config.resolveConstraints((0, (_keys || _load_keys()).default)(body.versions), range);
      if (satisfied) {
        return body.versions[satisfied];
      } else {
        throw new (_errors || _load_errors()).MessageError(`Couldn&#x27;t find any versions for ${ body.name } that matches ${ range }. ` + `
Possible versions: ${ (0, (_keys || _load_keys()).default)(body.versions).join(&#x27;, &#x27;) }`);
      }
    })();
  }

  resolveRequest() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      if (_this.config.offline) {
        const res = _this.resolveRequestOffline();
        if (res != null) {
          return res;
        }
      }

      const body = yield _this.config.registries.npm.request((_npmRegistry || _load_npmRegistry()).default.escapeName(_this.name
));

      if (body) {
        return yield NpmResolver.findVersionInRegistryResponse(_this.config, _this.range, body);
      } else {
        return null;
      }
    })();
  }

  resolveRequestOffline() {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      // find modules of this name
      const prefix = `npm-${ _this2.name }-`;

      const packagesRoot = _this2.config.packagesRoot;
      invariant(packagesRoot, &#x27;expected packages root&#x27;);

      const files = yield _this2.config.getCache(&#x27;cachedPackages&#x27;, (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(
function* () {
        const files = yield (_fs || _load_fs()).readdir(packagesRoot);
        const validFiles = [];

        for (const name of files) {
          // no hidden files
          if (name[0] === &#x27;.&#x27;) {
            continue;
          }

          // ensure valid module cache
          const dir = path.join(packagesRoot, name);
          if (yield _this2.config.isValidModuleDest(dir)) {
            validFiles.push(name);
          }
        }

        return validFiles;
      }));

      const versions = (0, (_map || _load_map()).default)();

      for (const name of files) {
        // check if folder starts with our prefix
        if (name.indexOf(prefix) !== 0) {
          continue;
        }

        const dir = path.join(packagesRoot, name);

        // read manifest and validate correct name
        const pkg = yield _this2.config.readManifest(dir, &#x27;npm&#x27;);
        if (pkg.name !== _this2.name) {
          continue;
        }

        // read package metadata
        const metadata = yield _this2.config.readPackageMetadata(dir);
        if (!metadata._remote) {
          continue; // old yarn metadata
        }

        versions[pkg.version] = (0, (_assign || _load_assign()).default)({}, pkg, { _remote: metadata.remote });
      }

      const satisfied = yield _this2.config.resolveConstraints((0, (_keys || _load_keys()).default)(versions), _this2.range);
      if (satisfied) {
        return versions[satisfied];
      } else if (!_this2.config.preferOffline) {
        throw new (_errors || _load_errors()).MessageError(_this2.reporter.lang(&#x27;couldntFindPackageInCache&#x27;, _this2.name, _this2
.range, (0, (_keys || _load_keys()).default)(versions).join(&#x27;, &#x27;)));
      } else {
        return null;
      }
    })();
  }

  cleanRegistry(url) {
    if (this.config.getOption(&#x27;registry&#x27;) === (_constants || _load_constants()).YARN_REGISTRY) {
      return url.replace(NPM_REGISTRY, (_constants || _load_constants()).YARN_REGISTRY);
    } else {
      return url;
    }
  }

  resolve() {
    var _this3 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      // lockfile
      const shrunk = _this3.request.getLocked(&#x27;tarball&#x27;);
      if (shrunk) {
        return shrunk;
      } ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.outdated" id="apidoc.module.yarnpkg.outdated">module yarnpkg.outdated</a></h1>




    <h2>
        <a href="#apidoc.element.yarnpkg.outdated.run" id="apidoc.element.yarnpkg.outdated.run">
        function <span class="apidocSignatureSpan">yarnpkg.outdated.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.outdated.setFlags" id="apidoc.element.yarnpkg.outdated.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.outdated.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(&#x27;outdated [packages ...]&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.owner" id="apidoc.module.yarnpkg.owner">module yarnpkg.owner</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.owner.mutate" id="apidoc.element.yarnpkg.owner.mutate">
        function <span class="apidocSignatureSpan">yarnpkg.owner.</span>mutate
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function mutate(_x, _x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.owner.run" id="apidoc.element.yarnpkg.owner.run">
        function <span class="apidocSignatureSpan">yarnpkg.owner.</span>run
        <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.owner.setFlags" id="apidoc.element.yarnpkg.owner.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.owner.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(`${ rootCommandName } [${ subCommandNames.join(&#x27;|&#x27;) }] [flags]`);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.pack" id="apidoc.module.yarnpkg.pack">module yarnpkg.pack</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.pack.pack" id="apidoc.element.yarnpkg.pack.pack">
        function <span class="apidocSignatureSpan">yarnpkg.</span>pack
        <span class="apidocSignatureSpan">(_x, _x2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function pack(_x, _x2) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// list of files that didn&#x27;t match any of our patterns, if a directory in the chain above was matched
// then we should inherit it
const possibleKeepFiles = new Set();

// apply filters
(0, (_filter || _load_filter()).sortFilter)(files, filters, keepFiles, possibleKeepFiles, ignoredFiles);

const packer = tar.<span class="apidocCodeKeywordSpan">pack</span>();
const compressor = packer.pipe(new zlib.Gzip());

yield addEntry(packer, {
  name: &#x27;package&#x27;,
  type: &#x27;directory&#x27;
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.pack.run" id="apidoc.element.yarnpkg.pack.run">
        function <span class="apidocSignatureSpan">yarnpkg.pack.</span>run
        <span class="apidocSignatureSpan">(_x3, _x4, _x5, _x6)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x3, _x4, _x5, _x6) {
  return _ref2.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.pack.setFlags" id="apidoc.element.yarnpkg.pack.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.pack.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.option(&#x27;-f, --filename [filename]&#x27;, &#x27;filename&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_compatibility" id="apidoc.module.yarnpkg.package_compatibility">module yarnpkg.package_compatibility</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_compatibility.default" id="apidoc.element.yarnpkg.package_compatibility.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_compatibility.</span>default
        <span class="apidocSignatureSpan">(config, resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageCompatibility {
  constructor(config, resolver) {
    this.reporter = config.reporter;
    this.resolver = resolver;
    this.config = config;
  }

  static isValidArch(archs) {
    return isValid(archs, process.arch);
  }

  static isValidPlatform(platforms) {
    return isValid(platforms, process.platform);
  }

  check(info) {
    let didIgnore = false;
    let didError = false;
    const reporter = this.reporter;
    const human = `${ info.name }@${ info.version }`;

    const pushError = msg =&#x3e; {
      const ref = info._reference;
      invariant(ref, &#x27;expected package reference&#x27;);

      if (ref.optional) {
        ref.addVisibility((_packageReference || _load_packageReference()).ENVIRONMENT_IGNORE);

        reporter.warn(`${ human }: ${ msg }`);
        if (!didIgnore) {
          reporter.info(reporter.lang(&#x27;optionalCompatibilityExcluded&#x27;, human));
          didIgnore = true;
        }
      } else {
        reporter.error(`${ human }: ${ msg }`);
        didError = true;
      }
    };

    if (Array.isArray(info.os)) {
      if (!PackageCompatibility.isValidPlatform(info.os)) {
        pushError(this.reporter.lang(&#x27;incompatibleOS&#x27;, process.platform));
      }
    }

    if (Array.isArray(info.cpu)) {
      if (!PackageCompatibility.isValidArch(info.cpu)) {
        pushError(this.reporter.lang(&#x27;incompatibleCPU&#x27;, process.arch));
      }
    }

    if (!this.config.ignoreEngines &#x26;&#x26; typeof info.engines === &#x27;object&#x27;) {
      for (const entry of (0, (_misc || _load_misc()).entries)(info.engines)) {
        let name = entry[0];
        const range = entry[1];

        if (aliases[name]) {
          name = aliases[name];
        }

        if (VERSIONS[name]) {
          if (!testEngine(name, range, VERSIONS, this.config.looseSemver)) {
            pushError(this.reporter.lang(&#x27;incompatibleEngine&#x27;, name, range));
          }
        } else if (ignore.indexOf(name) &#x3c; 0) {
          this.reporter.warn(`${ human }: ${ this.reporter.lang(&#x27;invalidEngine&#x27;, name) }`);
        }
      }
    }

    if (didError) {
      throw new (_errors || _load_errors()).MessageError(reporter.lang(&#x27;foundIncompatible&#x27;));
    }
  }

  init() {
    const infos = this.resolver.getManifests();
    for (const info of infos) {
      this.check(info);
    }
    return (_promise || _load_promise()).default.resolve();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.package_compatibility.testEngine" id="apidoc.element.yarnpkg.package_compatibility.testEngine">
        function <span class="apidocSignatureSpan">yarnpkg.package_compatibility.</span>testEngine
        <span class="apidocSignatureSpan">(name, range, versions, looseSemver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function testEngine(name, range, versions, looseSemver) {
  const actual = versions[name];
  if (!actual) {
    return false;
  }

  if (!semver.valid(actual, looseSemver)) {
    return false;
  }

  if (semver.satisfies(actual, range, looseSemver)) {
    return true;
  }

  if (name === &#x27;node&#x27; &#x26;&#x26; semver.gt(actual, &#x27;1.0.0&#x27;, looseSemver)) {
    // WARNING: this is a massive hack and is super gross but necessary for compatibility
    // some modules have the `engines.node` field set to a caret version below semver major v1
    // eg. ^0.12.0. this is problematic as we enforce engines checks and node is now on version &#x3e;=1
    // to allow this pattern we transform the node version to fake ones in the minor range 10-13
    const major = semver.major(actual, looseSemver);
    const fakes = [`0.10.${ major }`, `0.11.${ major }`, `0.12.${ major }`, `0.13.${ major }`];
    for (const actualFake of fakes) {
      if (semver.satisfies(actualFake, range, looseSemver)) {
        return true;
      }
    }
  }

  // incompatible version
  return false;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_constraint_resolver" id="apidoc.module.yarnpkg.package_constraint_resolver">module yarnpkg.package_constraint_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_constraint_resolver.default" id="apidoc.element.yarnpkg.package_constraint_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_constraint_resolver.</span>default
        <span class="apidocSignatureSpan">(config, reporter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageConstraintResolver {
  constructor(config, reporter) {
    this.reporter = reporter;
    this.config = config;
  }

  reduce(versions, range) {
    return (_promise || _load_promise()).default.resolve(semver.maxSatisfying(versions, range, this.config.looseSemver));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_fetcher" id="apidoc.module.yarnpkg.package_fetcher">module yarnpkg.package_fetcher</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_fetcher.default" id="apidoc.element.yarnpkg.package_fetcher.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_fetcher.</span>default
        <span class="apidocSignatureSpan">(config, resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageFetcher {
  constructor(config, resolver) {
    this.reporter = config.reporter;
    this.resolver = resolver;
    this.config = config;
  }

  fetchCache(dest, fetcher) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      var _ref = yield _this.config.readPackageMetadata(dest);

      const hash = _ref.hash;
      const pkg = _ref.package;

      return {
        package: pkg,
        resolved: yield fetcher.getResolvedFromCached(hash),
        hash: hash,
        dest: dest
      };
    })();
  }

  fetch(ref) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const dest = _this2.config.generateHardModulePath(ref);

      const remote = ref.remote;
      const Fetcher = (_index || _load_index())[remote.type];
      if (!Fetcher) {
        throw new Error(`Unknown fetcher for ${ remote.type }`);
      }

      const fetcher = new Fetcher(dest, remote, _this2.config);

      if (yield _this2.config.isValidModuleDest(dest)) {
        return _this2.fetchCache(dest, fetcher);
      }

      // remove as the module may be invalid
      yield (_fs || _load_fs()).unlink(dest);

      try {
        return yield fetcher.fetch();
      } catch (err) {
        try {
          yield (_fs || _load_fs()).unlink(dest);
        } catch (err2) {
          // what do?
        }
        throw err;
      }
    })();
  }

  maybeFetch(ref) {
    var _this3 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      try {
        return yield _this3.fetch(ref);
      } catch (err) {
        if (ref.optional) {
          _this3.reporter.error(err.message);
          return null;
        } else {
          throw err;
        }
      }
    })();
  }

  init() {
    var _this4 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const pkgs = _this4.resolver.getPackageReferences();
      const tick = _this4.reporter.progress(pkgs.length);

      yield (_promise || _load_promise()).queue(pkgs, (() =&#x3e; {
        var _ref2 = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (ref) {
          const res = yield _this4.maybeFetch(ref);
          let newPkg;

          if (res) {
            newPkg = res.package;

            // update with new remote
            ref.remote.hash = res.hash;
            if (res.resolved) {
              ref.remote.resolved = res.resolved;
            }
          }

          if (newPkg) {
            // update with fresh manifest
            yield _this4.resolver.updateManifest(ref, newPkg);
          }

          if (tick) {
            tick(ref.name);
          }
        });

        return function (_x) {
          return _ref2.apply(this, arguments);
        };
      })());
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_hoister" id="apidoc.module.yarnpkg.package_hoister">module yarnpkg.package_hoister</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_hoister.HoistManifest" id="apidoc.element.yarnpkg.package_hoister.HoistManifest">
        function <span class="apidocSignatureSpan">yarnpkg.package_hoister.</span>HoistManifest
        <span class="apidocSignatureSpan">(key, parts, pkg, loc)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class HoistManifest {
  constructor(key, parts, pkg, loc) {
    this.loc = loc;
    this.pkg = pkg;

    this.key = key;
    this.parts = parts;
    this.originalKey = key;
    this.previousKeys = [];

    this.history = [];
    this.addHistory(`Start position = ${ key }`);
  }

  addHistory(msg) {
    this.history.push(`${ ++historyCounter }: ${ msg }`);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.package_hoister.default" id="apidoc.element.yarnpkg.package_hoister.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_hoister.</span>default
        <span class="apidocSignatureSpan">(config, resolver, ignoreOptional)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageHoister {
  constructor(config, resolver, ignoreOptional) {
    this.ignoreOptional = ignoreOptional;
    this.resolver = resolver;
    this.config = config;

    this.taintedKeys = new (_map || _load_map()).default();
    this.levelQueue = [];
    this.tree = new (_map || _load_map()).default();
  }

<span class="apidocCodeCommentSpan">  /**
   * Taint this key and prevent any modules from being hoisted to it.
   */
</span>
  taintKey(key, info) {
    const existingTaint = this.taintedKeys.get(key);
    if (existingTaint &#x26;&#x26; existingTaint.loc !== info.loc) {
      return false;
    } else {
      this.taintedKeys.set(key, info);
      return true;
    }
  }

  /**
   * Implode an array of ancestry parts into a key.
   */

  implodeKey(parts) {
    return parts.join(&#x27;#&#x27;);
  }

  /**
   * Seed the hoister with patterns taken from the included resolver.
   */

  seed(patterns) {
    for (const pattern of this.resolver.dedupePatterns(patterns)) {
      this._seed(pattern);
    }

    while (true) {
      let queue = this.levelQueue;
      if (!queue.length) {
        return;
      }

      this.levelQueue = [];

      // sort queue to get determinism between runs
      queue = queue.sort((_ref, _ref2) =&#x3e; {
        var _ref4 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref, 1);

        let aPattern = _ref4[0];

        var _ref3 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref2, 1);

        let bPattern = _ref3[0];

        return (0, (_misc || _load_misc()).sortAlpha)(aPattern, bPattern);
      });

      //
      const infos = [];
      for (const _ref5 of queue) {
        var _ref6 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref5, 2);

        const pattern = _ref6[0];
        const parents = _ref6[1];

        const info = this._seed(pattern, parents);
        if (info) {
          infos.push(info);
        }
      }

      //
      for (const info of infos) {
        this.hoist(info);
      }
    }
  }

  /**
   * Seed the hoister with a specific pattern.
   */

  _seed(pattern, parent) {
    let parentParts = [];

    if (parent) {
      if (!this.tree.get(parent.key)) {
        return null;
      }
      parentParts = parent.parts;
    }

    //
    const pkg = this.resolver.getStrictResolvedPattern(pattern);
    const ref = pkg._reference;
    invariant(ref, &#x27;expected reference&#x27;);

    //
    const loc = this.config.generateHardModulePath(ref);
    const parts = parentParts.concat(pkg.name);
    const key = this.implodeKey(parts);
    const info = new HoistManifest(key, parts, pkg, loc);

    //
    this.tree.set(key, info);
    this.taintKey(key, info);

    //
    for (const depPattern of ref.dependencies) {
      this.levelQueue.push([depPattern, info]);
    }

    return info;
  }

  /**
   * Find the highest position we can hoist this module to.
   */

  getNewParts(key, info, parts) {
    let stepUp = false;

    const fullKey = this.implodeKey(parts);
    const stack = []; // stack of removed parts
    const name = parts.pop();

    //
    for (let i = parts.length - 1; i &#x3e;= 0; i--) {
      const checkParts = parts.slice(0, i).concat(name);
      const checkKey = this.implodeKey(checkParts);
      info.addHistory(`Looked at ${ checkKey } for a match`);

      const existing = this.tree.get(checkKey);
      if (existing) {
        if (existing.loc === info.loc) {
          existing.addHistory(`Deduped ${ fullKey } to this item`);
          return { parts: checkParts, duplicate: true };
        } else {
          // everything above will be shadowed and this is a conflict
          info.addHistory(`Found a collision at ${ checkKey }`);
          break;
        }
      }

      const existingTaint = this.taintedKeys.get(checkKey);
      if (existingTaint &#x26;&#x26; existingTaint.loc !== info.loc) {
        info.addHistory(`Broken by ${ checkKey }`);
        break;
      }
    }

    // remove redundant parts that wont collide
    while (parts.length) {
      const checkParts = parts.concat(name);
      const checkKey = this.implodeKey(checkParts);

      //
      const existing = this.tree.get(checkKey); ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_install_scripts" id="apidoc.module.yarnpkg.package_install_scripts">module yarnpkg.package_install_scripts</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_install_scripts.default" id="apidoc.element.yarnpkg.package_install_scripts.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_install_scripts.</span>default
        <span class="apidocSignatureSpan">(config, resolver, force)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageInstallScripts {
  constructor(config, resolver, force) {
    this.installed = 0;
    this.resolver = resolver;
    this.reporter = config.reporter;
    this.config = config;
    this.force = force;
  }

  getInstallCommands(pkg) {
    const scripts = pkg.scripts;
    if (scripts) {
      const cmds = [];
      for (const stage of INSTALL_STAGES) {
        const cmd = scripts[stage];
        if (cmd) {
          cmds.push([stage, cmd]);
        }
      }
      return cmds;
    } else {
      return [];
    }
  }

  walk(loc) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const files = yield (_fs || _load_fs()).walk(loc, null, new (_set || _load_set()).default(_this.config.registryFolders));
      const mtimes = new (_map || _load_map()).default();
      for (const file of files) {
        mtimes.set(file.relative, file.mtime);
      }
      return mtimes;
    })();
  }

  wrapCopyBuildArtifacts(loc, pkg, spinner, factory) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const beforeFiles = yield _this2.walk(loc);
      const res = yield factory();
      const afterFiles = yield _this2.walk(loc);

      // work out what files have been created/modified
      const buildArtifacts = [];
      for (const _ref of afterFiles) {
        var _ref2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref, 2);

        const file = _ref2[0];
        const mtime = _ref2[1];

        if (!beforeFiles.has(file) || beforeFiles.get(file) !== mtime) {
          buildArtifacts.push(file);
        }
      }

      // install script may have removed files, remove them from the cache too
      const removedFiles = [];
      for (const _ref3 of beforeFiles) {
        var _ref4 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref3, 1);

        const file = _ref4[0];

        if (!afterFiles.has(file)) {
          removedFiles.push(file);
        }
      }

      if (!removedFiles.length &#x26;&#x26; !buildArtifacts.length) {
        // nothing else to do here since we have no build side effects
        return res;
      }

      // if the process is killed while copying over build artifacts then we&#x27;ll leave
      // the cache in a bad state. remove the metadata file and add it back once we&#x27;ve
      // done our copies to ensure cache integrity.
      const cachedLoc = _this2.config.generateHardModulePath(pkg._reference, true);
      const cachedMetadataLoc = path.join(cachedLoc, (_constants || _load_constants()).METADATA_FILENAME);
      const cachedMetadata = yield (_fs || _load_fs()).readFile(cachedMetadataLoc);
      yield (_fs || _load_fs()).unlink(cachedMetadataLoc);

      // remove files that install script removed
      if (removedFiles.length) {
        for (const file of removedFiles) {
          yield (_fs || _load_fs()).unlink(path.join(cachedLoc, file));
        }
      }

      // copy over build artifacts to cache directory
      if (buildArtifacts.length) {
        const copyRequests = [];
        for (const file of buildArtifacts) {
          copyRequests.push({
            src: path.join(loc, file),
            dest: path.join(cachedLoc, file),
            onDone: function onDone() {
              spinner.tick(`Cached build artifact ${ file }`);
            }
          });
        }
        yield (_fs || _load_fs()).copyBulk(copyRequests, {
          possibleExtraneous: false
        });
        yield (_fs || _load_fs()).writeFile(cachedMetadataLoc, cachedMetadata);
      }

      return res;
    })();
  }

  install(cmds, pkg, spinner) {
    var _this3 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const loc = _this3.config.generateHardModulePath(pkg._reference);
      try {
        yield _this3.wrapCopyBuildArtifacts(loc, pkg, spinner, (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function
* () {
          for (const _ref6 of cmds) {
            var _ref7 = (0, (_slicedToArray2 || _load_sliced ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_linker" id="apidoc.module.yarnpkg.package_linker">module yarnpkg.package_linker</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_linker.default" id="apidoc.element.yarnpkg.package_linker.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_linker.</span>default
        <span class="apidocSignatureSpan">(config, resolver, ignoreOptional)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageLinker {
  constructor(config, resolver, ignoreOptional) {
    this.ignoreOptional = ignoreOptional;
    this.resolver = resolver;
    this.reporter = config.reporter;
    this.config = config;
  }

  linkSelfDependencies(pkg, pkgLoc, targetBinLoc) {
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      targetBinLoc = yield (_fs || _load_fs()).realpath(targetBinLoc);
      pkgLoc = yield (_fs || _load_fs()).realpath(pkgLoc);
      for (const _ref2 of (0, (_misc || _load_misc()).entries)(pkg.bin)) {
        var _ref3 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref2, 2);

        const scriptName = _ref3[0];
        const scriptCmd = _ref3[1];

        const dest = path.join(targetBinLoc, scriptName);
        const src = path.join(pkgLoc, scriptCmd);
        if (!(yield (_fs || _load_fs()).exists(src))) {
          // TODO maybe throw an error
          continue;
        }
        yield linkBin(src, dest);
      }
    })();
  }

  linkBinDependencies(pkg, dir) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const deps = [];

      const ref = pkg._reference;
      invariant(ref, &#x27;Package reference is missing&#x27;);

      const remote = pkg._remote;
      invariant(remote, &#x27;Package remote is missing&#x27;);

      // link up `bin scripts` in `dependencies`
      for (const pattern of ref.dependencies) {
        const dep = _this.resolver.getStrictResolvedPattern(pattern);
        if (dep.bin &#x26;&#x26; (0, (_keys || _load_keys()).default)(dep.bin).length) {
          deps.push({ dep: dep, loc: _this.config.generateHardModulePath(dep._reference) });
        }
      }

      // link up the `bin` scripts in bundled dependencies
      if (pkg.bundleDependencies) {
        for (const depName of pkg.bundleDependencies) {
          const loc = path.join(_this.config.generateHardModulePath(ref), _this.config.getFolder(pkg), depName);

          const dep = yield _this.config.readManifest(loc, remote.registry);

          if (dep.bin &#x26;&#x26; (0, (_keys || _load_keys()).default)(dep.bin).length) {
            deps.push({ dep: dep, loc: loc });
          }
        }
      }

      // no deps to link
      if (!deps.length) {
        return;
      }

      // ensure our .bin file we&#x27;re writing these to exists
      const binLoc = path.join(dir, &#x27;.bin&#x27;);
      yield (_fs || _load_fs()).mkdirp(binLoc);

      // write the executables
      for (const _ref4 of deps) {
        const dep = _ref4.dep;
        const loc = _ref4.loc;

        yield _this.linkSelfDependencies(dep, loc, binLoc);
      }
    })();
  }

  getFlatHoistedTree(patterns) {
    const hoister = new (_packageHoister || _load_packageHoister()).default(this.config, this.resolver, this.ignoreOptional);
    hoister.seed(patterns);
    return (_promise || _load_promise()).default.resolve(hoister.init());
  }

  copyModules(patterns) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      let flatTree = yield _this2.getFlatHoistedTree(patterns);

      // sorted tree makes file creation and copying not to interfere with each other
      flatTree = flatTree.sort(function (dep1, dep2) {
        return dep1[0].localeCompare(dep2[0]);
      });

      //
      const queue = new (_map || _load_map()).default();
      for (const _ref5 of flatTree) {
        var _ref6 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref5, 2);

        const dest = _ref6[0];
        var _ref6$ = _ref6[1];
        const pkg = _ref6$.pkg;
        const src = _ref6$.loc;

        const ref = pkg._reference;
        invariant(ref, &#x27;expected package reference&#x27;);
        ref.setLocation(dest);

        queue.set(dest, {
          src: src,
          dest: dest,
          onFresh: function onFresh() {
            if (ref) {
              ref.setFresh(true);
            }
          }
        });
      }

      // register root packages as being possibly extraneous
      const possibleExtraneous = new (_set || _load_set() ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.package_linker.linkBin" id="apidoc.element.yarnpkg.package_linker.linkBin">
        function <span class="apidocSignatureSpan">yarnpkg.package_linker.</span>linkBin
        <span class="apidocSignatureSpan">(_x, _x2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function linkBin(_x, _x2) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_reference" id="apidoc.module.yarnpkg.package_reference">module yarnpkg.package_reference</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_reference.default" id="apidoc.element.yarnpkg.package_reference.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_reference.</span>default
        <span class="apidocSignatureSpan">(request, info, remote)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageReference {
  constructor(request, info, remote) {
    this.resolver = request.resolver;
    this.lockfile = request.lockfile;
    this.requests = [];
    this.config = request.config;

    this.registry = remote.registry;
    this.version = info.version;
    this.name = info.name;
    this.uid = info._uid;

    this.remote = remote;

    this.dependencies = [];

    this.permissions = {};
    this.patterns = [];
    this.optional = null;
    this.visibility = { [ENVIRONMENT_IGNORE]: 0, [REMOVED_ANCESTOR]: 0, [USED]: 0 };
    this.root = false;
    this.ignore = false;
    this.fresh = false;
    this.location = null;

    this.addRequest(request);
  }

  setFresh(fresh) {
    this.fresh = fresh;
  }

  setLocation(loc) {
    return this.location = loc;
  }

  addRequest(request) {
    this.requests.push(request);

    if (!request.parentRequest) {
      this.root = true;
    }
  }

  prune() {
    for (const selfPattern of this.patterns) {
      // remove ourselves from the resolver
      this.resolver.removePattern(selfPattern);
    }
  }

  addDependencies(deps) {
    this.dependencies = this.dependencies.concat(deps);
  }

  setPermission(key, val) {
    this.permissions[key] = val;
  }

  hasPermission(key) {
    if (key in this.permissions) {
      return this.permissions[key];
    } else {
      return false;
    }
  }

  addPattern(pattern, manifest) {
    this.resolver.addPattern(pattern, manifest);

    this.patterns.push(pattern);

    const shrunk = this.lockfile.getLocked(pattern);
    if (shrunk &#x26;&#x26; shrunk.permissions) {
      for (const _ref of (0, (_misc || _load_misc()).entries)(shrunk.permissions)) {
        var _ref2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref, 2);

        const key = _ref2[0];
        const perm = _ref2[1];

        this.setPermission(key, perm);
      }
    }
  }

  addOptional(optional) {
    if (this.optional == null) {
      // optional is uninitialised
      this.optional = optional;
    } else if (!optional) {
      // otherwise, ignore all subsequent optional assignments and only accept ones making
      // this not optional
      this.optional = false;
    }
  }

  calculateVisibility() {
    let nowIgnore = false;
    const stack = this.visibility;

    // if we don&#x27;t use this module then mark it as ignored
    if (stack[USED] === 0) {
      nowIgnore = true;
    }

    // if we have removed as many ancestors as it&#x27;s used then it&#x27;s out of the tree
    if (stack[REMOVED_ANCESTOR] &#x3e;= stack[USED]) {
      nowIgnore = true;
    }

    this.ignore = nowIgnore;
  }

  addVisibility(action) {
    let ancestry = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : new (_set || _load_set()).default();

    this.visibility[action]++;
    this.calculateVisibility();

    if (ancestry.has(this)) {
      return;
    }
    ancestry.add(this);

    // go through and update all transitive dependencies to be ignored
    for (const pattern of this.dependencies) {
      const pkg = this.resolver.getResolvedPattern(pattern);
      if (!pkg) {
        continue;
      }

      const ref = pkg._reference;
      invariant(ref, &#x27;expected package reference&#x27;);
      ref.addVisibility(action, ancestry);
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_request" id="apidoc.module.yarnpkg.package_request">module yarnpkg.package_request</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_request.default" id="apidoc.element.yarnpkg.package_request.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_request.</span>default
        <span class="apidocSignatureSpan">(req, resolver)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageRequest {
  constructor(req, resolver) {
    this.parentRequest = req.parentRequest;
    this.visibility = req.visibility;
    this.lockfile = resolver.lockfile;
    this.registry = req.registry;
    this.reporter = resolver.reporter;
    this.resolver = resolver;
    this.optional = req.optional;
    this.pattern = req.pattern;
    this.config = resolver.config;

    resolver.usedRegistries.add(req.registry);
  }

  static getExoticResolver(pattern) {
    // TODO make this type more refined
    for (const _ref of (0, (_misc || _load_misc()).entries)((_index || _load_index()).exotics)) {
      var _ref2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref, 2);

      const Resolver = _ref2[1];

      if (Resolver.isVersion(pattern)) {
        return Resolver;
      }
    }
    return null;
  }

  getParentNames() {
    const chain = [];

    let request = this.parentRequest;
    while (request) {
      const info = this.resolver.getStrictResolvedPattern(request.pattern);
      chain.unshift(info.name);

      request = request.parentRequest;
    }

    return chain;
  }

  getLocked(remoteType) {
    // always prioritise root lockfile
    const shrunk = this.lockfile.getLocked(this.pattern);

    if (shrunk) {
      const resolvedParts = (_version || _load_version()).explodeHashedUrl(shrunk.resolved);

      return {
        name: shrunk.name,
        version: shrunk.version,
        _uid: shrunk.uid,
        _remote: {
          resolved: shrunk.resolved,
          type: remoteType,
          reference: resolvedParts.url,
          hash: resolvedParts.hash,
          registry: shrunk.registry
        },
        optionalDependencies: shrunk.optionalDependencies,
        dependencies: shrunk.dependencies
      };
    } else {
      return null;
    }
  }

<span class="apidocCodeCommentSpan">  /**
   * If the input pattern matches a registry one then attempt to find it on the registry.
   * Otherwise fork off to an exotic resolver if one matches.
   */
</span>
  findVersionOnRegistry(pattern) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      var _PackageRequest$norma = PackageRequest.normalizePattern(pattern);

      const range = _PackageRequest$norma.range;
      const name = _PackageRequest$norma.name;


      const exoticResolver = PackageRequest.getExoticResolver(range);
      if (exoticResolver) {
        let data = yield _this.findExoticVersionInfo(exoticResolver, range);

        // clone data as we&#x27;re manipulating it in place and this could be resolved multiple
        // times
        data = (0, (_assign || _load_assign()).default)({}, data);

        // this is so the returned package response uses the overridden name. ie. if the
        // package&#x27;s actual name is `bar`, but it&#x27;s been specified in the manifest like:
        //   &#x22;foo&#x22;: &#x22;http://foo.com/bar.tar.gz&#x22;
        // then we use the foo name
        data.name = name;

        return data;
      }

      const Resolver = _this.getRegistryResolver();
      const resolver = new Resolver(_this, name, range);
      return resolver.resolve();
    })();
  }

  /**
   * Get the registry resolver associated with this package request.
   */

  getRegistryResolver() {
    const Resolver = (_index2 || _load_index2()).registries[this.registry];
    if (Resolver) {
      return Resolver;
    } else {
      throw new Error(`Unknown registry resolver ${ this.registry }`);
    }
  }

  /**
   * Explode and normalize a pattern into it&#x27;s name and range.
   */

  static normalizePattern(pattern) {
    let hasVersion = false;
    let range = &#x27;latest&#x27;;
    let name = pattern;

    // if we&#x27;re a scope then remove the @ and add it back later
    let isScoped = false;
    if (name[0] === &#x27;@&#x27;) {
      isScoped = true;
      name = name.slice(1);
    }

    // take first part as the name
    const parts = name.split(&#x27;@&#x27;);
    if (parts.length &#x3e; 1) {
      name = parts.shift();
      range = parts.join(&#x27;@&#x27;);

      if (range) {
        hasVersion = true;
      } else {
        range = &#x27;*&#x27;;
      }
    }

    // add back @ scope suffi ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.package_resolver" id="apidoc.module.yarnpkg.package_resolver">module yarnpkg.package_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.package_resolver.default" id="apidoc.element.yarnpkg.package_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.package_resolver.</span>default
        <span class="apidocSignatureSpan">(config, lockfile)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class PackageResolver {
  constructor(config, lockfile) {
    this.patternsByPackage = (0, (_map || _load_map()).default)();
    this.fetchingPatterns = (0, (_map || _load_map()).default)();
    this.fetchingQueue = new (_blockingQueue || _load_blockingQueue()).default(&#x27;resolver fetching&#x27;);
    this.newPatterns = [];
    this.patterns = (0, (_map || _load_map()).default)();
    this.usedRegistries = new (_set || _load_set()).default();
    this.flat = false;

    this.reporter = config.reporter;
    this.lockfile = lockfile;
    this.config = config;
  }

  // whether the dependency graph will be flattened


  // list of registries that have been used in this resolution


  // activity monitor


  // patterns we&#x27;ve already resolved or are in the process of resolving


  // new patterns that didn&#x27;t exist in the lockfile


  // TODO


  // these are patterns that the package resolver was seeded with. these are required in
  // order to resolve top level peerDependencies


  // manages and throttles json api http requests


  // list of patterns associated with a package


  // lockfile instance which we can use to retrieve version info


  // a map of dependency patterns to packages


  // reporter instance, abstracts out display logic


  // environment specific config methods and options


<span class="apidocCodeCommentSpan">  /**
   * TODO description
   */
</span>
  isNewPattern(pattern) {
    return this.newPatterns.indexOf(pattern) &#x3e;= 0;
  }

  /**
   * TODO description
   */

  updateManifest(ref, newPkg) {
    // inherit fields
    const oldPkg = this.patterns[ref.patterns[0]];
    newPkg._reference = ref;
    newPkg._remote = ref.remote;
    newPkg.name = oldPkg.name;

    // update patterns
    for (const pattern of ref.patterns) {
      this.patterns[pattern] = newPkg;
    }

    return (_promise || _load_promise()).default.resolve();
  }

  /**
   * Given a list of patterns, dedupe them to a list of unique patterns.
   */

  dedupePatterns(patterns) {
    const deduped = [];
    const seen = new (_set || _load_set()).default();

    for (const pattern of patterns) {
      const info = this.getResolvedPattern(pattern);
      if (seen.has(info)) {
        continue;
      }

      seen.add(info);
      deduped.push(pattern);
    }

    return deduped;
  }

  /**
   * Get a list of all manifests by topological order.
   */

  getTopologicalManifests(seedPatterns) {
    const pkgs = new (_set || _load_set()).default();
    const skip = new (_set || _load_set()).default();

    const add = seedPatterns =&#x3e; {
      for (const pattern of seedPatterns) {
        const pkg = this.getStrictResolvedPattern(pattern);
        if (skip.has(pkg)) {
          continue;
        }

        const ref = pkg._reference;
        invariant(ref, &#x27;expected reference&#x27;);
        skip.add(pkg);
        add(ref.dependencies);
        pkgs.add(pkg);
      }
    };

    add(seedPatterns);

    return pkgs;
  }

  /**
   * Get a list of all manifests by level sort order.
   */

  getLevelOrderManifests(seedPatterns) {
    const pkgs = new (_set || _load_set()).default();
    const skip = new (_set || _load_set()).default();

    const add = seedPatterns =&#x3e; {
      const refs = [];

      for (const pattern of seedPatterns) {
        const pkg = this.getStrictResolvedPattern(pattern);
        if (skip.has(pkg)) {
          continue;
        }

        const ref = pkg._reference;
        invariant(ref, &#x27;expected reference&#x27;);

        refs.push(ref);
        skip.add(pkg);
        pkgs.add(pkg);
      }

      for (const ref of refs) {
        add(ref.dependencies);
      }
    };

    add(seedPatterns);

    return pkgs;
  }

  /**
   * Get a list of all package names in the depenency graph.
   */

  getAllDependencyNamesByLevelOrder(seedPatterns) {
    const names = new (_set || _load_set()).default();
    for (const _ref of this.getLevelOrderManifests(seedPatterns)) {
      const name = _ref.name;

      names.add(name);
    }
    return names;
  }

  /**
   * Retrieve all the package info stored for this package name.
   */

  getAllInfoForPackageName(name) {
    const infos = []; ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.parse" id="apidoc.module.yarnpkg.parse">module yarnpkg.parse</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.parse.Parser" id="apidoc.element.yarnpkg.parse.Parser">
        function <span class="apidocSignatureSpan">yarnpkg.parse.</span>Parser
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Parser {
  constructor(input) {
    this.comments = [];
    this.tokens = tokenise(input);
  }

  onComment(token) {
    const value = token.value;
    invariant(typeof value === &#x27;string&#x27;, &#x27;expected token value to be a string&#x27;);

    const comment = value.trim();

    const versionMatch = comment.match(VERSION_REGEX);
    if (versionMatch) {
      const version = +versionMatch[1];
      if (version &#x3e; (_constants || _load_constants()).LOCKFILE_VERSION) {
        throw new (_errors || _load_errors()).MessageError(`Can&#x27;t install from a lockfile of version ${ version } as you&#x27;re on an
 old yarn version that only supports ` + `versions up to ${ (_constants || _load_constants()).LOCKFILE_VERSION }. Run\`$ yarn self-udpate\` to upgrade to the latest version.`);
      }
    }

    this.comments.push(comment);
  }

  next() {
    const item = this.tokens.next();
    invariant(item, &#x27;expected a token&#x27;);

    const done = item.done;
    const value = item.value;

    if (done || !value) {
      throw new Error(&#x27;No more tokens&#x27;);
    } else if (value.type === TOKEN_TYPES.comment) {
      this.onComment(value);
      return this.next();
    } else {
      return this.token = value;
    }
  }

  unexpected() {
    let msg = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : &#x27;Unexpected token&#x27;;

    throw new SyntaxError(`${ msg } ${ this.token.line }:${ this.token.col }`);
  }

  expect(tokType) {
    if (this.token.type === tokType) {
      this.next();
    } else {
      this.unexpected();
    }
  }

  eat(tokType) {
    if (this.token.type === tokType) {
      this.next();
      return true;
    } else {
      return false;
    }
  }

  parse() {
    let indent = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : 0;

    const obj = (0, (_map || _load_map()).default)();

    while (true) {
      const propToken = this.token;

      if (propToken.type === TOKEN_TYPES.newline) {
        const nextToken = this.next();
        if (!indent) {
          // if we have 0 indentation then the next token doesn&#x27;t matter
          continue;
        }

        if (nextToken.type !== TOKEN_TYPES.indent) {
          // if we have no indentation after a newline then we&#x27;ve gone down a level
          break;
        }

        if (nextToken.value === indent) {
          // all is good, the indent is on our level
          this.next();
        } else {
          // the indentation is less than our level
          break;
        }
      } else if (propToken.type === TOKEN_TYPES.indent) {
        if (propToken.value === indent) {
          this.next();
        } else {
          break;
        }
      } else if (propToken.type === TOKEN_TYPES.eof) {
        break;
      } else if (propToken.type === TOKEN_TYPES.string) {
        // property key
        const key = propToken.value;
        invariant(key, &#x27;Expected a key&#x27;);

        const keys = [key];
        this.next();

        // support multiple keys
        while (this.token.type === TOKEN_TYPES.comma) {
          this.next(); // skip comma

          const keyToken = this.token;
          if (keyToken.type !== TOKEN_TYPES.string) {
            this.unexpected(&#x27;Expected string&#x27;);
          }

          const key = keyToken.value;
          invariant(key, &#x27;Expected a key&#x27;);
          keys.push(key);
          this.next();
        }

        const valToken = this.token;

        if (valToken.type === TOKEN_TYPES.colon) {
          // object
          this.next();

          // parse object
          const val = this.parse(indent + 1);

          for (const key of keys) {
            obj[key] = val;
          }

          if (indent &#x26;&#x26; this.token.type !== TOKEN_TYPES.indent) {
            break;
          }
        } else if (isValidPropValueToken(valToken)) {
          // plain value
          for (const key of keys) {
            obj[key] = valToken.value;
          }

          this.next();
        } else {
          this.unexpected(&#x27;Invalid value type&#x27;);
        }
      } else {
        this.unexpected(&#x27;Unknown token&#x27;);
      }
    }

    return obj;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.parse.default" id="apidoc.element.yarnpkg.parse.default">
        function <span class="apidocSignatureSpan">yarnpkg.parse.</span>default
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function (str) {
  str = stripBOM(str);
  const parser = new Parser(str);
  parser.next();
  return parser.parse();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.parse.tokenise" id="apidoc.element.yarnpkg.parse.tokenise">
        function <span class="apidocSignatureSpan">yarnpkg.parse.</span>tokenise
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function* tokenise(input) {
  let lastNewline = false;
  let line = 1;
  let col = 0;

  function buildToken(type, value) {
    return { line: line, col: col, type: type, value: value };
  }

  while (input.length) {
    let chop = 0;

    if (input[0] === &#x27;\n&#x27;) {
      chop++;
      line++;
      col = 0;
      yield buildToken(TOKEN_TYPES.newline);
    } else if (input[0] === &#x27;#&#x27;) {
      chop++;

      let val = &#x27;&#x27;;
      while (input[chop] !== &#x27;\n&#x27;) {
        val += input[chop];
        chop++;
      }
      yield buildToken(TOKEN_TYPES.comment, val);
    } else if (input[0] === &#x27; &#x27;) {
      if (lastNewline) {
        let indent = &#x27;&#x27;;
        for (let i = 0; input[i] === &#x27; &#x27;; i++) {
          indent += input[i];
        }

        if (indent.length % 2) {
          throw new TypeError(&#x27;Invalid number of spaces&#x27;);
        } else {
          chop = indent.length;
          yield buildToken(TOKEN_TYPES.indent, indent.length / 2);
        }
      } else {
        chop++;
      }
    } else if (input[0] === &#x27;&#x22;&#x27;) {
      let val = &#x27;&#x27;;
      for (let i = 0;; i++) {
        const char = input[i];
        val += char;
        if (i &#x3e; 0 &#x26;&#x26; char === &#x27;&#x22;&#x27; &#x26;&#x26; input[i - 1] !== &#x22;\\&#x22; &#x26;&#x26; input[i - 2] !== &#x22;\\&#x22;) {
          break;
        }
      }
      chop = val.length;

      try {
        yield buildToken(TOKEN_TYPES.string, JSON.parse(val));
      } catch (err) {
        if (err instanceof SyntaxError) {
          yield buildToken(TOKEN_TYPES.invalid);
        } else {
          throw err;
        }
      }
    } else if (/^[0-9]/.test(input)) {
      let val = &#x27;&#x27;;
      for (let i = 0; /^[0-9]$/.test(input[i]); i++) {
        val += input[i];
      }
      chop = val.length;

      yield buildToken(TOKEN_TYPES.number, +val);
    } else if (/^true/.test(input)) {
      yield buildToken(TOKEN_TYPES.boolean, true);
      chop = 4;
    } else if (/^false/.test(input)) {
      yield buildToken(TOKEN_TYPES.boolean, false);
      chop = 5;
    } else if (input[0] === &#x27;:&#x27;) {
      yield buildToken(TOKEN_TYPES.colon);
      chop++;
    } else if (input[0] === &#x27;,&#x27;) {
      yield buildToken(TOKEN_TYPES.comma);
      chop++;
    } else if (/^[a-zA-Z]/g.test(input)) {
      let name = &#x22;&#x22;;
      for (let i = 0; i &#x3c; input.length; i++) {
        const char = input[i];
        if (char === &#x27;:&#x27; || char === &#x27; &#x27; || char === &#x27;\n&#x27; || char === &#x27;,&#x27;) {
          break;
        } else {
          name += char;
        }
      }
      chop = name.length;

      yield buildToken(TOKEN_TYPES.string, name);
    } else {
      yield buildToken(TOKEN_TYPES.invalid);
    }

    if (!chop) {
      // will trigger infinite recursion
      yield buildToken(TOKEN_TYPES.invalid);
    }

    col += chop;
    lastNewline = input[0] === &#x27;\n&#x27;;
    input = input.slice(chop);
  }

  yield buildToken(TOKEN_TYPES.eof);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.parse_package_name" id="apidoc.module.yarnpkg.parse_package_name">module yarnpkg.parse_package_name</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.parse_package_name.default" id="apidoc.element.yarnpkg.parse_package_name.default">
        function <span class="apidocSignatureSpan">yarnpkg.parse_package_name.</span>default
        <span class="apidocSignatureSpan">(input)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parsePackageName(input) {
  var _PKG_INPUT$exec = PKG_INPUT.exec(input);

  var _PKG_INPUT$exec2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_PKG_INPUT$exec, 3);

  const name = _PKG_INPUT$exec2[1];
  const version = _PKG_INPUT$exec2[2];

  return { name: name, version: version };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.progress_bar" id="apidoc.module.yarnpkg.progress_bar">module yarnpkg.progress_bar</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.progress_bar.default" id="apidoc.element.yarnpkg.progress_bar.default">
        function <span class="apidocSignatureSpan">yarnpkg.progress_bar.</span>default
        <span class="apidocSignatureSpan">(total)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class ProgressBar {
  constructor(total) {
    let stdout = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : process.stderr;

    this.stdout = stdout;
    this.total = total;
    this.chars = ProgressBar.bars[0].split(&#x27;&#x27;);
    this.delay = 60;
    this.curr = 0;
    (0, (_util || _load_util()).clearLine)(stdout);
  }

  tick() {
    this.curr++;

    // schedule render
    if (!this.id) {
      this.id = setTimeout(() =&#x3e; this.render(), this.delay);
    }

    // progress complete
    if (this.curr &#x3e;= this.total) {
      clearTimeout(this.id);
      (0, (_util || _load_util()).clearLine)(this.stdout);
    }
  }

  render() {
    // clear throttle
    clearTimeout(this.id);
    this.id = null;

    let ratio = this.curr / this.total;
    ratio = Math.min(Math.max(ratio, 0), 1);

    // progress without bar
    let bar = ` ${ this.curr }/${ this.total }`;

    // calculate size of actual bar
    // $FlowFixMe: investigate process.stderr.columns flow error
    const availableSpace = Math.max(0, this.stdout.columns - bar.length - 1);
    const width = Math.min(this.total, availableSpace);
    const completeLength = Math.round(width * ratio);
    const complete = repeat(this.chars[0], completeLength);
    const incomplete = repeat(this.chars[1], width - completeLength);
    bar = `${ complete }${ incomplete }${ bar }`;

    (0, (_util || _load_util()).toStartOfLine)(this.stdout);
    this.stdout.write(bar);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.promise" id="apidoc.module.yarnpkg.promise">module yarnpkg.promise</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.promise.promisify" id="apidoc.element.yarnpkg.promise.promisify">
        function <span class="apidocSignatureSpan">yarnpkg.promise.</span>promisify
        <span class="apidocSignatureSpan">(fn, firstData)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function promisify(fn, firstData) {
  return function () {
    for (var _len = arguments.length, args = Array(_len), _key = 0; _key &#x3c; _len; _key++) {
      args[_key] = arguments[_key];
    }

    return new (_promise || _load_promise()).default(function (resolve, reject) {
      args.push(function (err) {
        for (var _len2 = arguments.length, result = Array(_len2 &#x3e; 1 ? _len2 - 1 : 0), _key2 = 1; _key2 &#x3c; _len2; _key2++) {
          result[_key2 - 1] = arguments[_key2];
        }

        let res = result;

        if (result.length &#x3c;= 1) {
          res = result[0];
        }

        if (firstData) {
          res = err;
          err = null;
        }

        if (err) {
          reject(err);
        } else {
          resolve(res);
        }
      });

      fn.apply(null, args);
    });
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function _interopRequireWildcard(obj) { if (obj &#x26;&#x26; obj.__esModule) { return obj; } else { var newObj = {}; if (obj !=
null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default =
obj; return newObj; } }

function _interopRequireDefault(obj) { return obj &#x26;&#x26; obj.__esModule ? obj : { default: obj }; }

const invariant = require(&#x27;invariant&#x27;);

const cmdShim = (_promise2 || _load_promise2()).<span class="apidocCodeKeywordSpan">promisify</span>(require(&#x27;cmd-shim&#x27
;));
const semver = require(&#x27;semver&#x27;);
const path = require(&#x27;path&#x27;);

class PackageLinker {
constructor(config, resolver, ignoreOptional) {
  this.ignoreOptional = ignoreOptional;
  this.resolver = resolver;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.promise.promisifyObject" id="apidoc.element.yarnpkg.promise.promisifyObject">
        function <span class="apidocSignatureSpan">yarnpkg.promise.</span>promisifyObject
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function promisifyObject(obj) {
  const promisedObj = {};
  for (const key in obj) {
    promisedObj[key] = promisify(obj[key]);
  }
  return promisedObj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.promise.queue" id="apidoc.element.yarnpkg.promise.queue">
        function <span class="apidocSignatureSpan">yarnpkg.promise.</span>queue
        <span class="apidocSignatureSpan">(arr, promiseProducer)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function queue(arr, promiseProducer) {
  let concurrency = arguments.length &#x3e; 2 &#x26;&#x26; arguments[2] !== undefined ? arguments[2] : Infinity;

  concurrency = Math.min(concurrency, arr.length);

  // clone
  arr = arr.slice();

  const results = [];
  let total = arr.length;
  if (!total) {
    return (_promise || _load_promise()).default.resolve(results);
  }

  return new (_promise || _load_promise()).default((resolve, reject) =&#x3e; {
    for (let i = 0; i &#x3c; concurrency; i++) {
      next();
    }

    function next() {
      const item = arr.shift();
      const promise = promiseProducer(item);

      promise.then(function (result) {
        results.push(result);

        total--;
        if (total === 0) {
          resolve(results);
        } else {
          if (arr.length) {
            next();
          }
        }
      }, reject);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  init() {
    var _this4 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const pkgs = _this4.resolver.getPackageReferences();
      const tick = _this4.reporter.progress(pkgs.length);

      yield (_promise || _load_promise()).<span class="apidocCodeKeywordSpan">queue</span>(pkgs, (() =&#x3e; {
        var _ref2 = (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* (ref) {
const res = yield _this4.maybeFetch(ref);
let newPkg;

if (res) {
  newPkg = res.package;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.promise.wait" id="apidoc.element.yarnpkg.promise.wait">
        function <span class="apidocSignatureSpan">yarnpkg.promise.</span>wait
        <span class="apidocSignatureSpan">(delay)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function wait(delay) {
  return new (_promise || _load_promise()).default(resolve =&#x3e; {
    setTimeout(resolve, delay);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.publish" id="apidoc.module.yarnpkg.publish">module yarnpkg.publish</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.publish.run" id="apidoc.element.yarnpkg.publish.run">
        function <span class="apidocSignatureSpan">yarnpkg.publish.</span>run
        <span class="apidocSignatureSpan">(_x5, _x6, _x7, _x8)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x5, _x6, _x7, _x8) {
  return _ref2.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.publish.setFlags" id="apidoc.element.yarnpkg.publish.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.publish.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  (0, (_version || _load_version()).setFlags)(commander);
  commander.usage(&#x27;publish [&#x3c;tarball&#x3e;|&#x3c;folder&#x3e;] [--tag &#x3c;tag&#x3e;] [--access &#x3c;public|restricted&#x3e;]&#x27;);
  commander.option(&#x27;--access [access]&#x27;, &#x27;access&#x27;);
  commander.option(&#x27;--tag [tag]&#x27;, &#x27;tag&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.registry_resolver" id="apidoc.module.yarnpkg.registry_resolver">module yarnpkg.registry_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.registry_resolver.default" id="apidoc.element.yarnpkg.registry_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.registry_resolver.</span>default
        <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class RegistryResolver extends (_exoticResolver || _load_exoticResolver()).default {
  constructor(request, fragment) {
    super(request, fragment);

    const match = fragment.match(/^(\S+):(.*?)(@(.*?)|)$/);
    if (match) {
      this.range = match[4] || &#x27;latest&#x27;;
      this.name = match[2];
    } else {
      throw new (_errors || _load_errors()).MessageError(this.reporter.lang(&#x27;invalidFragment&#x27;, fragment));
    }

    // $FlowFixMe
    this.registry = this.constructor.protocol;
  }

  resolve() {
    return this.fork(this.constructor.factory, false, this.name, this.range);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.remove" id="apidoc.module.yarnpkg.remove">module yarnpkg.remove</a></h1>




    <h2>
        <a href="#apidoc.element.yarnpkg.remove.run" id="apidoc.element.yarnpkg.remove.run">
        function <span class="apidocSignatureSpan">yarnpkg.remove.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.request_manager" id="apidoc.module.yarnpkg.request_manager">module yarnpkg.request_manager</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.request_manager.default" id="apidoc.element.yarnpkg.request_manager.default">
        function <span class="apidocSignatureSpan">yarnpkg.request_manager.</span>default
        <span class="apidocSignatureSpan">(reporter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class RequestManager {
  constructor(reporter) {
    this.offlineNoRequests = false;
    this._requestCaptureHar = null;
    this._requestModule = null;
    this.offlineQueue = [];
    this.captureHar = false;
    this.httpsProxy = null;
    this.httpProxy = null;
    this.userAgent = &#x27;&#x27;;
    this.reporter = reporter;
    this.running = 0;
    this.queue = [];
    this.cache = {};
    this.max = (_constants || _load_constants()).NETWORK_CONCURRENCY;
  }

  setOptions(opts) {
    if (opts.userAgent != null) {
      this.userAgent = opts.userAgent;
    }

    if (opts.offline != null) {
      this.offlineNoRequests = opts.offline;
    }

    if (opts.captureHar != null) {
      this.captureHar = opts.captureHar;
    }

    if (opts.httpProxy != null) {
      this.httpProxy = opts.httpProxy;
    }

    if (opts.httpsProxy != null) {
      this.httpsProxy = opts.httpsProxy;
    }
  }

<span class="apidocCodeCommentSpan">  /**
   * Lazy load `request` since it is exceptionally expensive to load and is
   * often not needed at all.
   */
</span>
  _getRequestModule() {
    if (!this._requestModule) {
      const request = require(&#x27;request&#x27;);
      if (this.captureHar) {
        this._requestCaptureHar = new RequestCaptureHar(request);
        this._requestModule = this._requestCaptureHar.request.bind(this._requestCaptureHar);
      } else {
        this._requestModule = request;
      }
    }
    return this._requestModule;
  }

  /**
   * Queue up a request.
   */

  request(params) {
    if (this.offlineNoRequests) {
      return (_promise || _load_promise()).default.reject(new (_errors || _load_errors()).MessageError(&#x22;Can&#x27;t make a request in
offline mode&#x22;));
    }

    const cached = this.cache[params.url];
    if (cached) {
      return cached;
    }

    params.method = params.method || &#x27;GET&#x27;;
    params.forever = true;
    params.retryAttempts = 0;

    params.headers = (0, (_assign || _load_assign()).default)({
      &#x27;User-Agent&#x27;: this.userAgent
    }, params.headers);

    const promise = new (_promise || _load_promise()).default((resolve, reject) =&#x3e; {
      this.queue.push({ params: params, resolve: resolve, reject: reject });
      this.shiftQueue();
    });

    // we can&#x27;t cache a request with a processor
    if (!params.process) {
      this.cache[params.url] = promise;
    }

    return promise;
  }

  /**
   * Clear the request cache. This is important as we cache all HTTP requests so you&#x27;ll
   * want to do this as soon as you can.
   */

  clearCache() {
    this.cache = {};
    if (this._requestCaptureHar != null) {
      this._requestCaptureHar.clear();
    }
  }

  /**
   * Check if an error is possibly due to lost or poor network connectivity.
   */

  isPossibleOfflineError(err) {
    const code = err.code;
    const hostname = err.hostname;

    if (code == null || hostname == null) {
      return false;
    }

    // network was previously online but now we&#x27;re offline
    const possibleOfflineChange = !controlOffline &#x26;&#x26; !(_network || _load_network()).isOffline();
    if (code === &#x27;ENOTFOUND&#x27; &#x26;&#x26; possibleOfflineChange) {
      // can&#x27;t resolve a domain
      return true;
    }

    // used to be able to resolve this domain! something is wrong
    if (code === &#x27;ENOTFOUND&#x27; &#x26;&#x26; successHosts[hostname]) {
      // can&#x27;t resolve this domain but we&#x27;ve successfully resolved it before
      return true;
    }

    // network was previously offline and we can&#x27;t resolve the domain
    if (code === &#x27;ENOTFOUND&#x27; &#x26;&#x26; controlOffline) {
      return true;
    }

    // connection was reset or dropped
    if (code === &#x27;ECONNRESET&#x27;) {
      return true;
    }

    return false;
  }

  /**
   * Queue up request arguments to be retried. Start a network connectivity timer if there
   * isn&#x27;t already one.
   */

  queueForOffline(opts) {
    if (!this.offlineQueue.length) {
      this.reporter.warn(this.reporter.lang(&#x27;offlineRetrying&#x27;));
      this.initOfflineRetry();
    }

    this.offlineQueue.push(opts);
  }

  /**
   * Begin timers to retry failed requests when we possibly establish network connectivity
   * again.
   */

  initOfflineRetry() {
    setTimeout(() =&#x3e; { ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.run" id="apidoc.module.yarnpkg.run">module yarnpkg.run</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.run.run" id="apidoc.element.yarnpkg.run.run">
        function <span class="apidocSignatureSpan">yarnpkg.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.self_update" id="apidoc.module.yarnpkg.self_update">module yarnpkg.self_update</a></h1>






    <h2>
        <a href="#apidoc.element.yarnpkg.self_update.run" id="apidoc.element.yarnpkg.self_update.run">
        function <span class="apidocSignatureSpan">yarnpkg.self_update.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.self_update.setFlags" id="apidoc.element.yarnpkg.self_update.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.self_update.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  // token needed because it is a private repo now
  commander.arguments(&#x27;[tag]&#x27;, &#x27;e.g. v0.10.0&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.spinner_progress" id="apidoc.module.yarnpkg.spinner_progress">module yarnpkg.spinner_progress</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.spinner_progress.default" id="apidoc.element.yarnpkg.spinner_progress.default">
        function <span class="apidocSignatureSpan">yarnpkg.spinner_progress.</span>default
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Spinner {
  constructor() {
    let stdout = arguments.length &#x3e; 0 &#x26;&#x26; arguments[0] !== undefined ? arguments[0] : process.stderr;
    let lineNumber = arguments.length &#x3e; 1 &#x26;&#x26; arguments[1] !== undefined ? arguments[1] : 0;

    this.current = 0;
    this.prefix = &#x27;&#x27;;
    this.lineNumber = lineNumber;
    this.stdout = stdout;
    this.delay = 60;
    this.chars = Spinner.spinners[28].split(&#x27;&#x27;);
    this.text = &#x27;&#x27;;
    this.id = null;
  }

  setPrefix(prefix) {
    this.prefix = prefix;
  }

  setText(text) {
    this.text = text;
  }

  start() {
    this.current = 0;
    this.render();
  }

  render() {
    if (this.id) {
      clearTimeout(this.id);
    }

    // build line ensuring we don&#x27;t wrap to the next line
    let msg = `${ this.prefix }${ this.chars[this.current] } ${ this.text }`;
    const columns = typeof this.stdout.columns === &#x27;number&#x27; ? this.stdout.columns : 100;
    msg = msg.slice(0, columns);

    (0, (_util || _load_util()).writeOnNthLine)(this.stdout, this.lineNumber, msg);

    this.current = ++this.current % this.chars.length;
    this.id = setTimeout(() =&#x3e; this.render(), this.delay);
  }

  stop() {
    if (this.id) {
      clearTimeout(this.id);
      this.id = null;
    }

    (0, (_util || _load_util()).clearNthLine)(this.stdout, this.lineNumber);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.stream" id="apidoc.module.yarnpkg.stream">module yarnpkg.stream</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.stream.ConcatStream" id="apidoc.element.yarnpkg.stream.ConcatStream">
        function <span class="apidocSignatureSpan">yarnpkg.stream.</span>ConcatStream
        <span class="apidocSignatureSpan">(done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class ConcatStream extends stream.Transform {
  constructor(done) {
    super();
    this._data = [];
    this._done = done;
  }

  _transform(chunk, encoding, callback) {
    invariant(chunk instanceof Buffer, &#x27;Chunk must be a buffer&#x27;);
    invariant(this._data != null, &#x27;Missing data array&#x27;);
    this._data.push(chunk);
    this.push(chunk);
    callback();
  }

  _flush(callback) {
    invariant(this._data != null, &#x27;Missing data array&#x27;);
    this._done(Buffer.concat(this._data));
    this._data = null;
    callback();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
} else if (stat.isFile()) {
  stream = fs2.createReadStream(dir);
} else {
  throw new Error(&#x22;Don&#x27;t know how to handle this file type&#x22;);
}
invariant(stream, &#x27;expected stream&#x27;);
const buffer = yield new Promise(function (resolve, reject) {
  stream.pipe(new (_stream || _load_stream()).<span class="apidocCodeKeywordSpan">ConcatStream</span>(resolve)).on(&#x27;error&#
x27;, reject);
});

// copy normalized package and remove internal keys as they may be sensitive or yarn specific
pkg = Object.assign({}, pkg);
for (const key in pkg) {
  if (key[0] === &#x27;_&#x27;) {
    delete pkg[key];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.stream.UnpackStream" id="apidoc.element.yarnpkg.stream.UnpackStream">
        function <span class="apidocSignatureSpan">yarnpkg.stream.</span>UnpackStream
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class UnpackStream extends stream.Transform {
  constructor(options) {
    super(options);
    this._srcStream = null;
    this._readHeader = false;
    this.once(&#x27;pipe&#x27;, src =&#x3e; {
      this._srcStream = src;
    });
  }

  _transform(chunk, encoding, callback) {
    if (!this._readHeader) {
      this._readHeader = true;
      invariant(chunk instanceof Buffer, &#x27;Chunk must be a buffer&#x27;);
      if (hasGzipHeader(chunk)) {
        // Stop receiving data from the src stream, and pipe it instead to zlib,
        // then pipe it&#x27;s output through us.
        const unzipStream = zlib.createUnzip();
        unzipStream.on(&#x27;error&#x27;, err =&#x3e; this.emit(&#x27;error&#x27;, err));

        const srcStream = this._srcStream;
        invariant(srcStream, &#x27;How? To get here a stream must have been piped!&#x27;);
        srcStream.pipe(unzipStream).pipe(this);

        // Unpipe after another stream has been piped so it&#x27;s always piping to
        // something, thus avoiding pausing it.
        srcStream.unpipe(this);
        unzipStream.write(chunk);
        this._srcStream = null;
        callback();
        return;
      }
    }
    callback(null, chunk);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return null;
}
return path.relative(offlineMirrorPath, mirrorPath);
  }

  createExtractor(mirrorPath, resolve, reject) {
const validateStream = new (_crypto || _load_crypto()).HashStream();
const extractorStream = new (_stream || _load_stream()).<span class="apidocCodeKeywordSpan">UnpackStream</span>();
const untarStream = tar.Extract({ path: this.dest, strip: 1 });

extractorStream.pipe(untarStream).on(&#x27;error&#x27;, reject).on(&#x27;end&#x27;, () =&#x3e; {
  const expectHash = this.hash;
  const actualHash = validateStream.getHash();
  if (!expectHash || expectHash === actualHash) {
    resolve({
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.stringify" id="apidoc.module.yarnpkg.stringify">module yarnpkg.stringify</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.stringify.default" id="apidoc.element.yarnpkg.stringify.default">
        function <span class="apidocSignatureSpan">yarnpkg.stringify.</span>default
        <span class="apidocSignatureSpan">(obj, noHeader)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stringify(obj, noHeader) {
  const val = _stringify(obj, {
    indent: &#x27;&#x27;,
    topLevel: true
  });
  if (noHeader) {
    return val;
  }

  return [&#x27;# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.&#x27;, `# yarn lockfile v${ (_constants || _load_constants
()).LOCKFILE_VERSION }`, val].join(&#x27;\n&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.tag" id="apidoc.module.yarnpkg.tag">module yarnpkg.tag</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.tag.getName" id="apidoc.element.yarnpkg.tag.getName">
        function <span class="apidocSignatureSpan">yarnpkg.tag.</span>getName
        <span class="apidocSignatureSpan">(_x, _x2)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getName(_x, _x2) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.tag.run" id="apidoc.element.yarnpkg.tag.run">
        function <span class="apidocSignatureSpan">yarnpkg.tag.</span>run
        <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.tag.setFlags" id="apidoc.element.yarnpkg.tag.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.tag.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(`${ rootCommandName } [${ subCommandNames.join(&#x27;|&#x27;) }] [flags]`);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.tarball_fetcher" id="apidoc.module.yarnpkg.tarball_fetcher">module yarnpkg.tarball_fetcher</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.tarball_fetcher.LocalTarballFetcher" id="apidoc.element.yarnpkg.tarball_fetcher.LocalTarballFetcher">
        function <span class="apidocSignatureSpan">yarnpkg.tarball_fetcher.</span>LocalTarballFetcher
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class LocalTarballFetcher extends TarballFetcher {
  _fetch() {
    return this.fetchFromLocal(this.reference);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.tarball_fetcher.default" id="apidoc.element.yarnpkg.tarball_fetcher.default">
        function <span class="apidocSignatureSpan">yarnpkg.tarball_fetcher.</span>default
        <span class="apidocSignatureSpan">(_baseFetcher || _load_baseFetcher()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class TarballFetcher extends (_baseFetcher || _load_baseFetcher()).default {
  getResolvedFromCached(hash) {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const mirrorPath = _this.getMirrorPath();
      if (mirrorPath == null) {
        // no mirror
        return null;
      }

      const tarballLoc = path.join(_this.dest, (_constants || _load_constants()).TARBALL_FILENAME);
      if (!(yield (_fs || _load_fs()).exists(tarballLoc))) {
        // no tarball located in the cache
        return null;
      }

      // copy the file over
      if (!(yield (_fs || _load_fs()).exists(mirrorPath))) {
        yield (_fs || _load_fs()).copy(tarballLoc, mirrorPath);
      }

      const relativeMirrorPath = _this.getRelativeMirrorPath(mirrorPath);
      invariant(relativeMirrorPath != null, &#x27;Missing offline mirror path&#x27;);

      return `${ relativeMirrorPath }#${ hash }`;
    })();
  }

  getMirrorPath() {
    return this.config.getOfflineMirrorPath(this.reference);
  }

  getRelativeMirrorPath(mirrorPath) {
    const offlineMirrorPath = this.config.getOfflineMirrorPath();
    if (offlineMirrorPath == null) {
      return null;
    }
    return path.relative(offlineMirrorPath, mirrorPath);
  }

  createExtractor(mirrorPath, resolve, reject) {
    const validateStream = new (_crypto || _load_crypto()).HashStream();
    const extractorStream = new (_stream || _load_stream()).UnpackStream();
    const untarStream = tar.Extract({ path: this.dest, strip: 1 });

    extractorStream.pipe(untarStream).on(&#x27;error&#x27;, reject).on(&#x27;end&#x27;, () =&#x3e; {
      const expectHash = this.hash;
      const actualHash = validateStream.getHash();
      if (!expectHash || expectHash === actualHash) {
        resolve({
          hash: actualHash,
          resolved: mirrorPath ? `${ mirrorPath }#${ actualHash }` : null
        });
      } else {
        reject(new (_errors || _load_errors()).SecurityError(`Bad hash. Expected ${ expectHash } but got ${ actualHash } `));
      }
    });

    return { validateStream, extractorStream };
  }

  fetchFromLocal(pathname) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const ref = _this2.reference;
      const config = _this2.config;

      // path to the local tarball

      let localTarball;
      let isOfflineTarball = false;

      const relativeFileLoc = pathname ? path.join(config.cwd, pathname) : null;
      if (relativeFileLoc &#x26;&#x26; (yield (_fs || _load_fs()).exists(relativeFileLoc))) {
        // this is a reference to a file relative to the cwd
        localTarball = relativeFileLoc;
      } else {
        // generate a offline cache location
        const offlineMirrorPath = config.getOfflineMirrorPath() || &#x27;&#x27;;
        localTarball = path.resolve(offlineMirrorPath, ref);
        isOfflineTarball = true;
      }

      if (!(yield (_fs || _load_fs()).exists(localTarball))) {
        throw new (_errors || _load_errors()).MessageError(`${ ref }: Tarball is not in network and can&#x27;t be located in cache (${
localTarball })`);
      }

      return new Promise(function (resolve, reject) {
        var _createExtractor = _this2.createExtractor(null, resolve, reject);

        const validateStream = _createExtractor.validateStream;
        const extractorStream = _createExtractor.extractorStream;


        const cachedStream = fs.createReadStream(localTarball);

        cachedStream.pipe(validateStream).pipe(extractorStream).on(&#x27;error&#x27;, function (err) {
          let msg = `${ err.message }. `;
          if (isOfflineTarball) {
            msg += `Mirror tarball appears to be corrupt. You can resolve this by running:\n\n` + `  $ rm -rf ${ localTarball }\
n` + &#x27;  $ yarn install&#x27;;
          } else {
            msg += `Error decompressing ${ localTarball }, it appears to be corrupt.`;
          }
          reject(new (_errors || _load_errors()).MessageError(msg));
        });
      });
    })();
  }

  fetchFromExternal() {
    const ref = this.reference;


    return this.config.r ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.tarball_resolver" id="apidoc.module.yarnpkg.tarball_resolver">module yarnpkg.tarball_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.tarball_resolver.default" id="apidoc.element.yarnpkg.tarball_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.tarball_resolver.</span>default
        <span class="apidocSignatureSpan">(_exoticResolver || _load_exoticResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class TarballResolver extends (_exoticResolver || _load_exoticResolver()).default {
  constructor(request, fragment) {
    super(request, fragment);

    var _versionUtil$explodeH = (_version || _load_version()).explodeHashedUrl(fragment);

    const hash = _versionUtil$explodeH.hash;
    const url = _versionUtil$explodeH.url;

    this.hash = hash;
    this.url = url;
  }

  static isVersion(pattern) {
    // we can sometimes match git urls which we don&#x27;t want
    if ((_gitResolver || _load_gitResolver()).default.isVersion(pattern)) {
      return false;
    }

    // full http url
    if (pattern.startsWith(&#x27;http://&#x27;) || pattern.startsWith(&#x27;https://&#x27;)) {
      return true;
    }

    // local file reference - ignore patterns with names
    if (pattern.indexOf(&#x27;@&#x27;) &#x3c; 0) {
      if (pattern.endsWith(&#x27;.tgz&#x27;) || pattern.endsWith(&#x27;tar.gz&#x27;)) {
        return true;
      }
    }

    return false;
  }

  resolve() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      const shrunk = _this.request.getLocked(&#x27;tarball&#x27;);
      if (shrunk) {
        return shrunk;
      }

      const url = _this.url;
      let hash = _this.hash;
      let registry = _this.registry;

      let pkgJson;

      // generate temp directory
      const dest = _this.config.getTemp((_crypto || _load_crypto()).hash(url));

      if (yield _this.config.isValidModuleDest(dest)) {
        var _ref = yield _this.config.readPackageMetadata(dest);
        // load from local cache


        pkgJson = _ref.package;
        hash = _ref.hash;
        registry = _ref.registry;
      } else {
        // delete if invalid
        yield (_fs || _load_fs()).unlink(dest);

        const fetcher = new (_tarballFetcher || _load_tarballFetcher()).default(dest, {
          type: &#x27;tarball&#x27;,
          reference: url,
          registry: registry,
          hash: hash
        }, _this.config, false);

        // fetch file and get it&#x27;s hash
        const fetched = yield fetcher.fetch();
        pkgJson = fetched.package;
        hash = fetched.hash;

        registry = pkgJson._registry;
        invariant(registry, &#x27;expected registry&#x27;);
      }

      // use the commit/tarball hash as the uid as we can&#x27;t rely on the version as it&#x27;s not
      // in the registry
      pkgJson._uid = hash;

      // set remote so it can be &#x22;fetched&#x22;
      pkgJson._remote = {
        type: &#x27;copy&#x27;,
        resolved: `${ url }#${ hash }`,
        hash: hash,
        registry: registry,
        reference: dest
      };

      return pkgJson;
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.team" id="apidoc.module.yarnpkg.team">module yarnpkg.team</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.team.run" id="apidoc.element.yarnpkg.team.run">
        function <span class="apidocSignatureSpan">yarnpkg.team.</span>run
        <span class="apidocSignatureSpan">(_x2, _x3, _x4, _x5)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x2, _x3, _x4, _x5) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.team.setFlags" id="apidoc.element.yarnpkg.team.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.team.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  commander.usage(`${ rootCommandName } [${ subCommandNames.join(&#x27;|&#x27;) }] [flags]`);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.unlink" id="apidoc.module.yarnpkg.unlink">module yarnpkg.unlink</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.unlink.run" id="apidoc.element.yarnpkg.unlink.run">
        function <span class="apidocSignatureSpan">yarnpkg.unlink.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.upgrade" id="apidoc.module.yarnpkg.upgrade">module yarnpkg.upgrade</a></h1>






    <h2>
        <a href="#apidoc.element.yarnpkg.upgrade.run" id="apidoc.element.yarnpkg.upgrade.run">
        function <span class="apidocSignatureSpan">yarnpkg.upgrade.</span>run
        <span class="apidocSignatureSpan">(_x, _x2, _x3, _x4)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x, _x2, _x3, _x4) {
  return _ref.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.upgrade.setFlags" id="apidoc.element.yarnpkg.upgrade.setFlags">
        function <span class="apidocSignatureSpan">yarnpkg.upgrade.</span>setFlags
        <span class="apidocSignatureSpan">(commander)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function setFlags(commander) {
  // TODO: support some flags that install command has
  commander;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

//
invariant(commandName, &#x27;Missing command name&#x27;);
command = command || (_index2 || _load_index2())[camelCase(commandName)];

//
if (command &#x26;&#x26; typeof command.setFlags === &#x27;function&#x27;) {
command.<span class="apidocCodeKeywordSpan">setFlags</span>(commander);
}

if (commandName === &#x27;help&#x27; || args.indexOf(&#x27;--help&#x27;) &#x3e;= 0 || args.indexOf(&#x27;-h&#x27;) &#x3e;= 0) {
const examples = command &#x26;&#x26; command.examples || [];
if (examples.length) {
  commander.on(&#x27;--help&#x27;, () =&#x3e; {
    console.log(&#x27;  Examples:\n&#x27;);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.util" id="apidoc.module.yarnpkg.util">module yarnpkg.util</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.util.clearLine" id="apidoc.element.yarnpkg.util.clearLine">
        function <span class="apidocSignatureSpan">yarnpkg.util.</span>clearLine
        <span class="apidocSignatureSpan">(stdout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearLine(stdout) {
  readline.clearLine(stdout, 0);
  readline.cursorTo(stdout, 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports.writeOnNthLine = writeOnNthLine;
exports.clearNthLine = clearNthLine;


const readline = require(&#x27;readline&#x27;);

function clearLine(stdout) {
  readline.<span class="apidocCodeKeywordSpan">clearLine</span>(stdout, 0);
  readline.cursorTo(stdout, 0);
}

function toStartOfLine(stdout) {
  readline.cursorTo(stdout, 0);
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.util.clearNthLine" id="apidoc.element.yarnpkg.util.clearNthLine">
        function <span class="apidocSignatureSpan">yarnpkg.util.</span>clearNthLine
        <span class="apidocSignatureSpan">(stdout, n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clearNthLine(stdout, n) {
  if (n == 0) {
    clearLine(stdout);
    return;
  }
  readline.cursorTo(stdout, 0);
  readline.moveCursor(stdout, 0, -n);
  readline.clearLine(stdout, 0);
  readline.moveCursor(stdout, 0, n);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.util.toStartOfLine" id="apidoc.element.yarnpkg.util.toStartOfLine">
        function <span class="apidocSignatureSpan">yarnpkg.util.</span>toStartOfLine
        <span class="apidocSignatureSpan">(stdout)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toStartOfLine(stdout) {
  readline.cursorTo(stdout, 0);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.util.writeOnNthLine" id="apidoc.element.yarnpkg.util.writeOnNthLine">
        function <span class="apidocSignatureSpan">yarnpkg.util.</span>writeOnNthLine
        <span class="apidocSignatureSpan">(stdout, n, msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function writeOnNthLine(stdout, n, msg) {
  if (n == 0) {
    clearLine(stdout);
    stdout.write(msg);
    return;
  }
  readline.cursorTo(stdout, 0);
  readline.moveCursor(stdout, 0, -n);
  readline.clearLine(stdout, 0);
  stdout.write(msg);
  readline.cursorTo(stdout, 0);
  readline.moveCursor(stdout, 0, n);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.validate" id="apidoc.module.yarnpkg.validate">module yarnpkg.validate</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.validate.cleanDependencies" id="apidoc.element.yarnpkg.validate.cleanDependencies">
        function <span class="apidocSignatureSpan">yarnpkg.validate.</span>cleanDependencies
        <span class="apidocSignatureSpan">(info, isRoot, reporter, warn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function cleanDependencies(info, isRoot, reporter, warn) {
  // get dependency objects
  const depTypes = [];
  for (const type of dependencyKeys) {
    const deps = info[type];
    if (!deps || typeof deps !== &#x27;object&#x27;) {
      continue;
    }
    depTypes.push([type, deps]);
  }

  // check root dependencies for builtin module names
  if (isRoot) {
    for (const _ref of depTypes) {
      var _ref2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref, 2);

      const type = _ref2[0];
      const deps = _ref2[1];

      for (const name in deps) {
        if (isBuiltinModule(name)) {
          warn(reporter.lang(&#x27;manifestDependencyBuiltin&#x27;, name, type));
        }
      }
    }
  }

  // ensure that dependencies don&#x27;t have ones that can collide
  for (const _ref3 of depTypes) {
    var _ref4 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref3, 2);

    const type = _ref4[0];
    const deps = _ref4[1];

    for (const name in deps) {
      const version = deps[name];

      // check collisions
      for (const _ref5 of depTypes) {
        var _ref6 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref5, 2);

        const type2 = _ref6[0];
        const deps2 = _ref6[1];

        const version2 = deps2[name];
        if (deps === deps2 || !version2 || version2 === &#x27;*&#x27;) {
          continue;
        }

        if (version !== version2 &#x26;&#x26; isRoot) {
          // only throw a warning when at the root
          warn(reporter.lang(&#x27;manifestDependencyCollision&#x27;, type, name, version, type2, version2));
        }

        delete deps2[name];
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.validate.default" id="apidoc.element.yarnpkg.validate.default">
        function <span class="apidocSignatureSpan">yarnpkg.validate.</span>default
        <span class="apidocSignatureSpan">(info, isRoot, reporter, warn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">default = function (info, isRoot, reporter, warn) {
  if (isRoot) {
    for (const key in (_typos || _load_typos()).default) {
      if (key in info) {
        warn(reporter.lang(&#x27;manifestPotentialType&#x27;, key, (_typos || _load_typos()).default[key]));
      }
    }
  }

  // validate name
  const name = info.name;

  if (typeof name === &#x27;string&#x27;) {
    if (isRoot &#x26;&#x26; isBuiltinModule(name)) {
      warn(reporter.lang(&#x27;manifestBuiltinModule&#x27;, name));
    }

    // cannot start with a dot
    if (name[0] === &#x27;.&#x27;) {
      throw new TypeError(reporter.lang(&#x27;manifestNameDot&#x27;));
    }

    // cannot contain the following characters
    if (!isValidPackageName(name)) {
      throw new TypeError(reporter.lang(&#x27;manifestNameIllegalChars&#x27;));
    }

    // cannot equal node_modules or favicon.ico
    const lower = name.toLowerCase();
    if (lower === &#x27;node_modules&#x27; || lower === &#x27;favicon.ico&#x27;) {
      throw new TypeError(reporter.lang(&#x27;manifestNameBlacklisted&#x27;));
    }
  }

  // validate license
  if (isRoot &#x26;&#x26; !info.private) {
    if (typeof info.license === &#x27;string&#x27;) {
      const license = info.license.replace(/\*$/g, &#x27;&#x27;);
      if (!(0, (_util || _load_util()).isValidLicense)(license)) {
        warn(reporter.lang(&#x27;manifestLicenseInvalid&#x27;));
      }
    } else {
      warn(reporter.lang(&#x27;manifestLicenseNone&#x27;));
    }
  }

  // validate strings
  for (const key of strings) {
    const val = info[key];
    if (val &#x26;&#x26; typeof val !== &#x27;string&#x27;) {
      throw new TypeError(reporter.lang(&#x27;manifestStringExpected&#x27;, key));
    }
  }

  cleanDependencies(info, isRoot, reporter, warn);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.validate.isValidPackageName" id="apidoc.element.yarnpkg.validate.isValidPackageName">
        function <span class="apidocSignatureSpan">yarnpkg.validate.</span>isValidPackageName
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isValidPackageName(name) {
  return isValidName(name) || isValidScopedName(name);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.version" id="apidoc.module.yarnpkg.version">module yarnpkg.version</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.version.explodeHashedUrl" id="apidoc.element.yarnpkg.version.explodeHashedUrl">
        function <span class="apidocSignatureSpan">yarnpkg.version.</span>explodeHashedUrl
        <span class="apidocSignatureSpan">(url)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function explodeHashedUrl(url) {
  const parts = url.split(&#x27;#&#x27;);

  return {
    url: parts[0],
    hash: parts[1] || &#x27;&#x27;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }

  getLocked(remoteType) {
    // always prioritise root lockfile
    const shrunk = this.lockfile.getLocked(this.pattern);

    if (shrunk) {
const resolvedParts = (_version || _load_version()).<span class="apidocCodeKeywordSpan">explodeHashedUrl</span>(shrunk.resolved);

return {
  name: shrunk.name,
  version: shrunk.version,
  _uid: shrunk.uid,
  _remote: {
    resolved: shrunk.resolved,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.why" id="apidoc.module.yarnpkg.why">module yarnpkg.why</a></h1>




    <h2>
        <a href="#apidoc.element.yarnpkg.why.run" id="apidoc.element.yarnpkg.why.run">
        function <span class="apidocSignatureSpan">yarnpkg.why.</span>run
        <span class="apidocSignatureSpan">(_x5, _x6, _x7, _x8)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run(_x5, _x6, _x7, _x8) {
  return _ref8.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  reporter.error(reporter.lang(&#x27;noRequiredLockfile&#x27;));
  process.exit(1);
}

//
const run = () =&#x3e; {
  invariant(command, &#x27;missing command&#x27;);
  return command.<span class="apidocCodeKeywordSpan">run</span>(config, reporter, commander, commander.args).then(() =&#x3e; {
    reporter.close();
    if (outputWrapper) {
      reporter.footer(false);
    }
  });
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.wrapper" id="apidoc.module.yarnpkg.wrapper">module yarnpkg.wrapper</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.wrapper.default" id="apidoc.element.yarnpkg.wrapper.default">
        function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>default
        <span class="apidocSignatureSpan">(cache, source)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class Lockfile {
  constructor(cache, source) {
    this.source = source || &#x27;&#x27;;
    this.cache = cache;
  }

  // source string if the `cache` was parsed


  static fromDirectory(dir, reporter) {
    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      // read the manifest in this directory
      const lockfileLoc = path.join(dir, (_constants || _load_constants()).LOCKFILE_FILENAME);
      let lockfile;
      let rawLockfile = &#x27;&#x27;;

      if (yield (_fs || _load_fs()).exists(lockfileLoc)) {
        rawLockfile = yield (_fs || _load_fs()).readFile(lockfileLoc);
        lockfile = (0, (_parse2 || _load_parse2()).default)(rawLockfile);
      } else {
        if (reporter) {
          reporter.info(reporter.lang(&#x27;noLockfileFound&#x27;));
        }
      }

      return new Lockfile(lockfile, rawLockfile);
    })();
  }

  getLocked(pattern) {
    const cache = this.cache;
    if (!cache) {
      return undefined;
    }

    const shrunk = pattern in cache &#x26;&#x26; cache[pattern];

    if (typeof shrunk === &#x27;string&#x27;) {
      return this.getLocked(shrunk);
    } else if (shrunk) {
      explodeEntry(pattern, shrunk);
      return shrunk;
    }

    return undefined;
  }

  getLockfile(patterns) {
    const lockfile = {};
    const seen = new (_map || _load_map()).default();

    // order by name so that lockfile manifest is assigned to the first dependency with this manifest
    // the others that have the same remote.resolved will just refer to the first
    // ordering allows for consistency in lockfile when it is serialized
    const sortedPatternsKeys = (0, (_keys || _load_keys()).default)(patterns).sort((_misc || _load_misc()).sortAlpha);

    for (const pattern of sortedPatternsKeys) {
      const pkg = patterns[pattern];
      const remote = pkg._remote;
      const ref = pkg._reference;

      invariant(ref, &#x27;Package is missing a reference&#x27;);
      invariant(remote, &#x27;Package is missing a remote&#x27;);

      const seenPattern = remote.resolved &#x26;&#x26; seen.get(remote.resolved);
      if (seenPattern) {
        // no point in duplicating it
        lockfile[pattern] = seenPattern;

        // if we&#x27;re relying on our name being inferred and two of the patterns have
        // different inferred names then we need to set it
        if (!seenPattern.name &#x26;&#x26; getName(pattern) !== pkg.name) {
          seenPattern.name = pkg.name;
        }
        continue;
      }

      const obj = implodeEntry(pattern, {
        name: pkg.name,
        version: pkg.version,
        uid: pkg._uid,
        resolved: remote.resolved,
        registry: remote.registry,
        dependencies: pkg.dependencies,
        peerDependencies: pkg.peerDependencies,
        optionalDependencies: pkg.optionalDependencies,
        permissions: ref.permissions
      });
      lockfile[pattern] = obj;

      if (remote.resolved) {
        seen.set(remote.resolved, obj);
      }
    }

    return lockfile;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.wrapper.explodeEntry" id="apidoc.element.yarnpkg.wrapper.explodeEntry">
        function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>explodeEntry
        <span class="apidocSignatureSpan">(pattern, obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function explodeEntry(pattern, obj) {
  obj.optionalDependencies = obj.optionalDependencies || {};
  obj.dependencies = obj.dependencies || {};
  obj.uid = obj.uid || obj.version;
  obj.permissions = obj.permissions || {};
  obj.registry = obj.registry || &#x27;npm&#x27;;
  obj.name = obj.name || getName(pattern);
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.wrapper.implodeEntry" id="apidoc.element.yarnpkg.wrapper.implodeEntry">
        function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>implodeEntry
        <span class="apidocSignatureSpan">(pattern, obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function implodeEntry(pattern, obj) {
  const inferredName = getName(pattern);
  return {
    name: inferredName === obj.name ? undefined : obj.name,
    version: obj.version,
    uid: obj.uid === obj.version ? undefined : obj.uid,
    resolved: obj.resolved,
    registry: obj.registry === &#x27;npm&#x27; ? undefined : obj.registry,
    dependencies: blankObjectUndefined(obj.dependencies),
    optionalDependencies: blankObjectUndefined(obj.optionalDependencies),
    permissions: blankObjectUndefined(obj.permissions)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.wrapper.parse" id="apidoc.element.yarnpkg.wrapper.parse">
        function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>parse
        <span class="apidocSignatureSpan">(str)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (str) {
  str = stripBOM(str);
  const parser = new Parser(str);
  parser.next();
  return parser.parse();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
//
if (tarUrl == null) {
  return mirrorPath;
}

//

var _url$parse = url.<span class="apidocCodeKeywordSpan">parse</span>(tarUrl);

const pathname = _url$parse.pathname;

if (pathname == null) {
  return mirrorPath;
} else {
  return path.join(mirrorPath, path.basename(pathname));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.yarnpkg.wrapper.stringify" id="apidoc.element.yarnpkg.wrapper.stringify">
        function <span class="apidocSignatureSpan">yarnpkg.wrapper.</span>stringify
        <span class="apidocSignatureSpan">(obj, noHeader)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function stringify(obj, noHeader) {
  const val = _stringify(obj, {
    indent: &#x27;&#x27;,
    topLevel: true
  });
  if (noHeader) {
    return val;
  }

  return [&#x27;# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.&#x27;, `# yarn lockfile v${ (_constants || _load_constants
()).LOCKFILE_VERSION }`, val].join(&#x27;\n&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const hash = _ref2.hash;
const resolved = _ref2.resolved;

// load the new normalized manifest

const pkg = yield _this.config.readManifest(dest, _this.registry);

yield (_fs || _load_fs()).writeFile(path.join(dest, (_constants || _load_constants()).METADATA_FILENAME), JSON.<span class="apidocCodeKeywordSpan
">stringify</span>({
  remote: _this.remote,
  registry: _this.registry,
  hash
}, null, &#x27;  &#x27;));

return {
  resolved,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.yarn_registry" id="apidoc.module.yarnpkg.yarn_registry">module yarnpkg.yarn_registry</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.yarn_registry.default" id="apidoc.element.yarnpkg.yarn_registry.default">
        function <span class="apidocSignatureSpan">yarnpkg.yarn_registry.</span>default
        <span class="apidocSignatureSpan">(_npmRegistry || _load_npmRegistry()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class YarnRegistry extends (_npmRegistry || _load_npmRegistry()).default {
  constructor(cwd, registries, requestManager) {
    super(cwd, registries, requestManager);

    this.homeConfigLoc = path.join(userHome, &#x27;.yarnrc&#x27;);
    this.homeConfig = {};
  }

  getOption(key) {
    return this.config[key] || this.registries.npm.getOption(npmMap[key] || key);
  }

  loadConfig() {
    var _this = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      for (const _ref of yield _this.getPossibleConfigLocations(&#x27;.yarnrc&#x27;)) {
        var _ref2 = (0, (_slicedToArray2 || _load_slicedToArray()).default)(_ref, 3);

        const isHome = _ref2[0];
        const file = _ref2[2];

        const config = (0, (_parse || _load_parse()).default)(file);

        if (isHome) {
          _this.homeConfig = config;
        }

        defaults(_this.config, config);
      }

      // default yarn config
      defaults(_this.config, DEFAULTS);
    })();
  }

  saveHomeConfig(config) {
    var _this2 = this;

    return (0, (_asyncToGenerator2 || _load_asyncToGenerator()).default)(function* () {
      for (const key in config) {
        const val = config[key];

        // if the current config key was taken from home config then update
        // the global config
        if (_this2.homeConfig[key] === _this2.config[key]) {
          _this2.config[key] = val;
        }

        // update just the home config
        _this2.homeConfig[key] = config[key];
      }

      yield (_fs || _load_fs()).writeFile(_this2.homeConfigLoc, `${ (0, (_stringify || _load_stringify()).default)(_this2.homeConfig
) }\n`);
    })();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.yarnpkg.yarn_resolver" id="apidoc.module.yarnpkg.yarn_resolver">module yarnpkg.yarn_resolver</a></h1>


    <h2>
        <a href="#apidoc.element.yarnpkg.yarn_resolver.default" id="apidoc.element.yarnpkg.yarn_resolver.default">
        function <span class="apidocSignatureSpan">yarnpkg.yarn_resolver.</span>default
        <span class="apidocSignatureSpan">(_npmResolver || _load_npmResolver()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">class YarnResolver extends (_npmResolver || _load_npmResolver()).default {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
const invariant = require(&#x27;invariant&#x27;);

const path = require(&#x27;path&#x27;);
const url = require(&#x27;url&#x27;);

class Config {
constructor(reporter) {
  this.constraintResolver = new (_packageConstraintResolver || _load_packageConstraintResolver()).<span class="apidocCodeKeywordSpan
">default</span>(this, reporter);
  this.requestManager = new (_requestManager || _load_requestManager()).default(reporter);
  this.reporter = reporter;
  this._init({});
}

//
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
